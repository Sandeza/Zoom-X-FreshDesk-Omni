/*! For license information please see main.21e067c1.js.LICENSE.txt */
(self.webpackChunkvue_webpack_setup=self.webpackChunkvue_webpack_setup||[]).push([[179],{15475:function(n,e,t){var o={"./fw-button.entry.js":[36926,216],"./fw-button_14.entry.js":[99307,216,115],"./fw-checkbox.entry.js":[56434,216],"./fw-datepicker.entry.js":[25424,216],"./fw-dropdown-button.entry.js":[71154,216],"./fw-icon.entry.js":[20387,216],"./fw-input.entry.js":[17592,216],"./fw-label.entry.js":[77838,216],"./fw-modal.entry.js":[12150,216],"./fw-radio-group.entry.js":[94244,216],"./fw-radio.entry.js":[13946,216],"./fw-select-option.entry.js":[51404,216],"./fw-select.entry.js":[97642,216],"./fw-spinner.entry.js":[79407,216],"./fw-tab.entry.js":[30617,216],"./fw-tabs.entry.js":[4476,216],"./fw-tag.entry.js":[10111,216],"./fw-textarea.entry.js":[3458,216],"./fw-timepicker.entry.js":[77582,216],"./fw-toast.entry.js":[80333,216],"./fw-toggle.entry.js":[99944,216]};function r(n){if(!t.o(o,n))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e});var e=o[n],r=e[0];return Promise.all(e.slice(1).map(t.e)).then(function(){return t(r)})}r.keys=function(){return Object.keys(o)},r.id=15475,n.exports=r},17471:function(n,e,t){"use strict";t(5735),t(47941),t(23157);var o=t(49963),r=t(66252),a={id:"app"};t(82526),t(41817),t(32165),t(96649),t(57327),t(26699),t(66992),t(96078),t(9653),t(33321),t(69070),t(38880),t(49337),t(30489),t(68304),t(41539),t(88674),t(74916),t(39714),t(32023),t(78783),t(64765),t(54747),t(33948),t(41637);var c=t(989),i=t(3577),l=t(2262),s={class:"recent-search"},u={class:"recent-call-list"},d={key:0},f={class:"contact-info-name"},p={class:"contact-info-number"},m={class:"contact-time-stamp"},g={key:1,class:"no-recents"};t(92222),t(91038),t(47042),t(70189);function v(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return _(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(_(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,_(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,_(d,"constructor",s),_(s,"constructor",l),l.displayName="GeneratorFunction",_(s,r,"GeneratorFunction"),_(d),_(d,r,"Generator"),_(d,o,function(){return this}),_(d,"toString",function(){return"[object Generator]"}),(v=function(){return{w:a,m:f}})()}function _(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}_=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){_(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},_(n,e,t,o)}function b(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function h(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){b(a,o,r,c,i,"next",n)}function i(n){b(a,o,r,c,i,"throw",n)}c(void 0)})}}var y,w={getAccountId:function(n){return h(v().m(function e(){var t,o,r,a;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=n.commit,e.p=1,e.n=2,window.client.request.invoke("getAccountId",{});case 2:o=e.v,console.log("Account ID data:",o),r=JSON.parse(o.message),t("SET_ACCOUNT_ID",r.account_id),console.log("Account ID set in store:",r.account_id),e.n=4;break;case 3:e.p=3,a=e.v,console.error("Error fetching account ID:",a);case 4:return e.a(2)}},e,null,[[1,3]])}))()},getContactList:function(n){var e=arguments;return h(v().m(function t(){var o,r,a,c,i,l,s,u,d,f,p,m;return v().w(function(t){for(;;)switch(t.p=t.n){case 0:return o=n.commit,r=e.length>1&&void 0!==e[1]?e[1]:null,o("SET_LOADING",!0),t.n=1,window.client.instance.context();case 1:return a=t.v,console.log("CURRENT PRODUCT",a.location),c=a.location,t.n=2,window.client.request.invokeTemplate("get_contact_filter",{});case 2:if(i=t.v,JSON.parse(i.response).filters.filter(function(n){"All Contacts"==n.name&&(l=n.id)}),console.log("FILTER CONTACTS",l),t.p=3,!r){t.n=4;break}o("GET_CONTACT_LIST",r),t.n=9;break;case 4:if(window.client&&window.client.request){t.n=5;break}throw new Error("Freshdesk client is not available.");case 5:if("left_nav_cti"!=c){t.n=7;break}return t.n=6,window.client.request.invokeTemplate("get_contact_list_crm",{context:{contactId:l}});case 6:s=t.v,console.log("Contact list response crm:",s),u=JSON.parse(s.response),d=u.contacts||[],o("GET_CONTACT_LIST",d),t.n=9;break;case 7:return t.n=8,window.client.request.invokeTemplate("get_contact_list",{});case 8:f=t.v,console.log("Contact list response desk:",f),p=JSON.parse(f.response),o("GET_CONTACT_LIST",p||[]);case 9:t.n=11;break;case 10:t.p=10,m=t.v,console.error("Error fetching contacts:",m),o("GET_CONTACT_LIST",[]);case 11:return t.p=11,o("SET_LOADING",!1),t.f(11);case 12:return t.a(2)}},t,null,[[3,10,11,12]])}))()},getcrmContactList:function(n){var e=arguments;return h(v().m(function t(){var o,r,a,c,i;return v().w(function(t){for(;;)switch(t.p=t.n){case 0:if(o=n.commit,r=e.length>1&&void 0!==e[1]?e[1]:null,o("SET_LOADING",!0),t.p=1,!r){t.n=2;break}o("GET_CRMCONTACT_LIST",r),t.n=5;break;case 2:if(window.client&&window.client.request){t.n=3;break}throw new Error("Freshdesk client is not available.");case 3:return t.n=4,window.client.request.invokeTemplate("get_crmcontact_list");case 4:a=t.v,c=JSON.parse(a.response),o("GET_CRMCONTACT_LIST",c);case 5:t.n=7;break;case 6:t.p=6,i=t.v,console.error("Error fetching contacts:",i),o("GET_CRMCONTACT_LIST",[]);case 7:return t.p=7,o("SET_LOADING",!1),t.f(7);case 8:return t.a(2)}},t,null,[[1,6,7,8]])}))()},setLoading:function(n,e){(0,n.commit)("SET_LOADING",e)},pushContactList:function(n,e){(0,n.commit)("PUSH_CONTACT_LIST",e)},updatePageRoute:function(n,e){(0,n.commit)("SET_PAGE_ROUTE",e)},getClientMethods:function(n,e){return h(v().m(function t(){var o,r,a,c,i,l,s;return v().w(function(t){for(;;)switch(t.p=t.n){case 0:return o=n.commit,console.log("dispatching....."),t.p=1,t.n=2,e.instance.context();case 2:return r=t.v,t.n=3,e.data.get("loggedInUser");case 3:return a=t.v,console.log("THIS IS FW AGENT DETAILS",a),t.n=4,e.data.get("domainName");case 4:return c=t.v,t.n=5,e.iparams.get();case 5:i=t.v,l={interface:e.interface,location:r,data:{domainName:null==c?void 0:c.domainName,freshdeskDomain:null!=i&&i.domain?"".concat(i.domain,".freshdesk.com"):void 0}},o("call/SET_FCRM_AGENT_NAME",a.loggedInUser.display_name||a.loggedInUser.contact.name,{root:!0}),o("call/SET_FRESHCHAT_AGENT_ORG_AGENT_ID",a.loggedInUser.freshid_uuid||a.loggedInUser.org_agent_id,{root:!0}),o("SET_CLIENT_METHODS",l),t.n=7;break;case 6:t.p=6,s=t.v,console.error(" Failed to initialize client methods:",s);case 7:return t.a(2)}},t,null,[[1,6]])}))()},createTicketForCaller:function(n,e){return h(v().m(function t(){var o,r,a,c,i,l,s;return v().w(function(t){for(;;)switch(t.p=t.n){case 0:return o=n.dispatch,r=n.state,t.p=1,a=r.single_contact||{},c={subject:e.subject,description:e.description,priority:e.priority||1,status:e.status||2,phone:incomingPhone,name:a.name||"Unknown Caller"},console.log("Payload:",e),console.log("Creating ticket with data:",c),t.n=2,window.client.request.invokeTemplate("create_ticket",{body:JSON.stringify(c)});case 2:if(i=t.v,l=JSON.parse(i.response),console.log("Ticket created:",l),!incomingPhone){t.n=3;break}return t.n=3,o("call/fetchTicketsByPhone",incomingPhone||"",{root:!0});case 3:return t.a(2,l);case 4:throw t.p=4,s=t.v,console.error("Error creating ticket:",s),s;case 5:return t.a(2)}},t,null,[[1,4]])}))()},addNoteToTicket:function(n){return h(v().m(function e(){var t,o,r,a,c;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=n.ticketId,o=n.noteBody,e.p=1,e.n=2,window.client.request.invokeTemplate("add_ticket_note",{context:{ticket_id:t},body:JSON.stringify({body:o,private:!1})});case 2:return r=e.v,a=JSON.parse(r.response),console.log("Note added:",a),e.a(2,a);case 3:throw e.p=3,c=e.v,console.error("Error adding note:",c),c;case 4:return e.a(2)}},e,null,[[1,3]])}))()}},k={namespaced:!0,state:{contact_list:[],contact_list_crm:[],single_contact:[],page_route:"home",fdk_client:{},client_methods:"",event_type:"default",freshdesk_domain:"",loading:!1,home_tab:"recent",account_id:"",ticket_id:"",current_product:"",flag:""},mutations:{SET_CURRENT_PRODUCT:function(n,e){n.current_product=e,console.log("common::set_current_product",e)},SET_TICKET_ID:function(n,e){n.ticket_id=e,console.log("COMMON::SET_TICKET_ID",e)},GET_CRMCONTACT_LIST:function(n,e){n.contact_list_crm=e,console.log("COMMON::GET_CRM_CONTACT",e)},GET_CONTACT_LIST:function(n,e){n.contact_list=e,console.log("COMMON::GET_CONTACT_LIST:",n.contact_list)},PUSH_CONTACT_LIST:function(n,e){n.contact_list.push(e),console.log("COMMON::PUSH_CONTACT_LIST:",n.contact_list)},SET_PAGE_ROUTE:function(n,e){n.page_route=e,console.log("COMMON::SET_PAGE_ROUTE",n.page_route)},SET_HOME_TAB:function(n,e){n.home_tab=e,console.log("COMMON::SET_HOME_TAB",n.home_tab)},SET_LOADING:function(n,e){n.loading=e},SET_CLIENT_METHODS:function(n,e){n.client_methods=e,console.log("client_methods set:",e)},CREATE_CONTACT:function(n,e){n.contact_list.unshift(e),console.log("COMMON::CREATE_CONTACT",e)},SET_SINGLE_CONTACT:function(n,e){n.single_contact=e,console.log("Set single contact:",e)},SET_ACCOUNT_ID:function(n,e){n.account_id=e,console.log("COMMON::ACCOUNT_ID",e)}},actions:w};function C(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,r,a,c,i=[],l=!0,s=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=a.call(t)).done)&&(i.push(o.value),i.length!==e);l=!0);}catch(n){s=!0,r=n}finally{try{if(!l&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(s)throw r}}return i}}(n,e)||function(n,e){if(n){if("string"==typeof n)return T(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=Array(e);t<e;t++)o[t]=n[t];return o}function S(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return O(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(O(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,O(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,O(d,"constructor",s),O(s,"constructor",l),l.displayName="GeneratorFunction",O(s,r,"GeneratorFunction"),O(d),O(d,r,"Generator"),O(d,o,function(){return this}),O(d,"toString",function(){return"[object Generator]"}),(S=function(){return{w:a,m:f}})()}function O(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}O=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){O(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},O(n,e,t,o)}function E(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function x(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){E(a,o,r,c,i,"next",n)}function i(n){E(a,o,r,c,i,"throw",n)}c(void 0)})}}var N,I="Zoom_BYOT12";(N=x(S().m(function n(){var e;return S().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,app.initialized();case 1:y=n.v,n.n=3;break;case 2:n.p=2,e=n.v,console.error("Failed to init Freshworks client in callLogs.js",e);case 3:return n.a(2)}},n,null,[[0,2]])})),function(){return N.apply(this,arguments)})();var A={namespaced:!0,state:{call_logs:[]},mutations:{SET_CALL_LOGS:function(n,e){n.call_logs=e}},actions:{ensureDbExists:function(n){return x(S().m(function e(){var t,o,r,a,c;return S().w(function(e){for(;;)switch(e.n){case 0:return t=n.commit,e.n=1,j(y.db.get(I));case 1:if(o=e.v,r=C(o,2),a=r[0],c=r[1],!a||404!==a.status){e.n=3;break}return e.n=2,y.db.set(I,{logs:[]});case 2:return console.log("CallLogs DB created: ".concat(I)),t("SET_CALL_LOGS",[]),e.a(2,[]);case 3:if(!a){e.n=4;break}return console.error("Error reading CallLogs DB:",a),t("SET_CALL_LOGS",[]),e.a(2,[]);case 4:return t("SET_CALL_LOGS",c.logs||[]),e.a(2,c.logs||[])}},e)}))()},fetchCallLogs:function(n){return x(S().m(function e(){var t,o,r,a,c;return S().w(function(e){for(;;)switch(e.n){case 0:return t=n.commit,e.n=1,j(y.db.get(I));case 1:if(o=e.v,r=C(o,2),a=r[0],c=r[1],!a||404!==a.status){e.n=2;break}return t("SET_CALL_LOGS",[]),e.a(2,[]);case 2:if(!a){e.n=3;break}return console.error(" Error fetching logs from DB:",a),t("SET_CALL_LOGS",[]),e.a(2,[]);case 3:return t("SET_CALL_LOGS",c.logs||[]),console.log(" Call logs fetched from DB:",c||[]),e.a(2,c.logs||[])}},e)}))()},addCallLog:function(n,e){return x(S().m(function t(){var o,r;return S().w(function(t){for(;;)switch(t.n){case 0:return o=n.dispatch,console.log(e),t.n=1,o("fetchCallLogs");case 1:return(r=t.v).unshift(e),r.length>50&&r.pop(),t.n=2,y.db.set(I,{logs:r});case 2:o("fetchCallLogs"),console.log("✅ Call log added to DB");case 3:return t.a(2)}},t)}))()},setCallLogs:function(n,e){return x(S().m(function t(){var o;return S().w(function(t){for(;;)switch(t.n){case 0:return o=n.commit,t.n=1,y.db.set(I,{logs:e});case 1:o("SET_CALL_LOGS",e);case 2:return t.a(2)}},t)}))()}}};function j(n){return n.then(function(n){return[null,n]}).catch(function(n){return[n]})}function D(n){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},D(n)}function P(n,e,t){return(e=function(n){var e=function(n){if("object"!=D(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=D(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==D(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var L=P(P(P(P(P({SET_CONTACT_NAME:function(n,e){n.contact_name=e,console.log("SET_CONTACT_NAME",e)},SET_RECORDING_COMPLETED_FLAG:function(n,e){n.recording_completed_flag=e},SET_CONVERSATION_FUID:function(n,e){n.main_agent_id=e,console.log("SET_CONVERSATION_FUID",e)},SET_CALL_ENDED_FLAG:function(n,e){n.call_ended_flag=e},SET_CALL_DETAILS:function(n,e){n.call_id=e},SET_CHANNEL_ID:function(n,e){n.channel_id=e,console.log("SET_CHANNEL_ID",e)},ORG_CONTACT_ID:function(n,e){n.org_contact_id=e,console.log("SET_org_contact_ID",e)},SET_CALL_WAS_ANSWERED:function(n,e){n.call_was_answered=e},SET_SINGLE_CONTACT:function(n,e){n.single_contact=e,console.log("SET_SINGLE_CONTACT",e)},SET_CONTACT_ID:function(n,e){n.contact_id=e,console.log("SET_CONTACT_ID",e)},SET_FRESHCHAT_USER_ID:function(n,e){n.freshchat_user_id=e,console.log("SET_FRESHCHAT_USER_ID",e)},SET_CRM_CONTACT_ID:function(n,e){n.crm_contact_id=e,console.log("SET_CRM_CONTACT_ID",e)},SET_CONVERSATION_ID:function(n,e){n.conversation_id=e,console.log("SET_CONVERSATION_ID",e)},SET_CONVERSATION_INTERNAL_ID:function(n,e){n.conversation_internal_id=e,console.log("SET_CONVERSATION_INTERNAL_ID",e)},SET_CONVERSATION_AGENT_ID:function(n,e){n.conversation_agent_id=e,console.log("SET_CONVERSATION_AGENT_ID",e)},SET_CONVERSATION_DETAILS:function(n,e){n.conversation_details=e,console.log("SET_CONVERSATION_DETAILS",e)},SET_CONVERSATION_APPID:function(n,e){n.app_id=e,console.log("SET_CONVERSATION_APPID",e)},SET_CURRENT_CALL:function(n,e){n.current_call=e,n.is_calling=!!e},CLEAR_CURRENT_CALL:function(n){n.current_call=null,n.is_calling=!1,n.conversation_id=null,console.log("CLEAR_CURRENT_CALL")},ADD_CALL_LOG:function(n,e){n.call_logs.unshift(e),n.call_logs.length>50&&n.call_logs.pop()},SET_LOADING:function(n,e){n.loading=e},SET_FRESHDESK_TICKETS:function(n,e){n.freshdesk_ticket_list=e},SET_SELECTED_TICKET:function(n,e){n.selected_ticket_id=e},SET_INCOMING_CALL_FRAG_FLAG:function(n,e){n.incoming_call_frag_flag=e}},"SET_CHANNEL_ID",function(n,e){n.channel_id=e,console.log("SET_CHANNEL_ID",e)}),"SET_FCRM_AGENT_NAME",function(n,e){n.fcrm_loggedin_agent_name=e,console.log("SET_FCRM_AGENT_NAME",e)}),"SET_FRESHCHAT_AGENT_ORG_AGENT_ID",function(n,e){n.fcrm_loggedin_agent_uuid=e,console.log("SET_FRESHCHAT_AGENT_ORG_AGENT_ID",e)}),"SET_FRESHSALES_CALLER_MCR_ID",function(n,e){n.freshsales_caller_mcr_id=e,console.log("SET_FRESHSALES_CALLER_MCR_ID",e)}),"SET_RECORDING_URL",function(n,e){n.recording_url=e}),R={namespaced:!0,state:{call_state:"ringing",call_id:"",call_log_id:"",call_time:"",call_event_type:"",call_direction:"inbound",call_duration:"",call_voicemail_url:"",call_enable_auto:!1,call_recording_url:"",voice_mail_url:"",caller_number:"",caller_extension_number:"",caller_name:"Zoom Agent",caller_extension_id:"",caller_extension_type:"",callee_name:"Unknown Caller",callee_number:"",callee_extension_type:"",callee_extension_number:"",callee_id:"",freshdesk_user_name:"",freshdesk_user_phone:"",freshdesk_user_id:"",freshdesk_ticket_list:[],automatic_ticket_creation:!1,recording_url_for_ticket:"",create_contact_phone:"",selected_ticket_id:0,contact_id:"",freshchat_user_id:"",crm_contact_id:"",conversation_id:"",conversation_internal_id:"",org_contact_id:"",call_was_answered:!1,current_call:null,is_calling:!1,loading:!1,call_logs:[],single_contact:null,incoming_call_frag_flag:!1,app_id:"",recording_url:"",conversation_agent_id:null,main_agent_id:"",fcrm_loggedin_agent_uuid:null,fcrm_loggedin_agent_name:null,freshsales_caller_mcr_id:null,conversation_details:"",contact_name:"",channel_id:"",call_ended_flag:!1,recording_completed_flag:!1},mutations:L,actions:{setConversationId:function(n,e){(0,n.commit)("SET_CONVERSATION_ID",e)},setRecordingCompletedFlag:function(n,e){(0,n.commit)("SET_RECORDING_COMPLETED_FLAG",e)},setCallEndedFlag:function(n,e){(0,n.commit)("SET_CALL_ENDED_FLAG",e)},setConversationInternalId:function(n,e){(0,n.commit)("SET_CONVERSATION_INTERNAL_ID",e)},setRecordingUrl:function(n,e){var t=n.commit;n.dispatch,t("SET_RECORDING_URL",e)},handleIncomingCallFromHandler:function(n,e){var t=n.commit,o=(n.dispatch,e.phone),r=e.name,a=e.callType;e.logEntry,t("SET_CURRENT_CALL",{status:a,phoneNumber:o,callerName:r,time:(new Date).toISOString()})},setLoading:function(n,e){(0,n.commit)("SET_LOADING",e)}},getters:{current_call:function(n){return n.current_call},is_calling:function(n){return n.is_calling},call_logs:function(n){return n.call_logs},single_contact:function(n){return n.single_contact},contact_id:function(n){return n.contact_id},freshchat_user_id:function(n){return n.freshchat_user_id},conversation_id:function(n){return n.conversation_id},incoming_call_frag_flag:function(n){return n.incoming_call_frag_flag},fcrm_loggedin_agent_uuid:function(n){return n.fcrm_loggedin_agent_uuid},fcrm_loggedin_agent_name:function(n){return n.fcrm_loggedin_agent_name},contact_name:function(n){return n.contact_name}}},z=new c.ZP.Store({modules:{common:k,callLogs:A,call:R},getters:{contact_list_crm:function(n){return n.common.contact_list_crm},contact_list:function(n){return n.common.contact_list},page_route:function(n){return n.common.page_route},fdk_client:function(n){return n.common.fdk_client},client_methods:function(n){return n.common.client_methods},event_type:function(n){return n.common.event_type},home_tab:function(n){return n.common.home_tab},freshdesk_ticket_list:function(n){return n.call.freshdesk_ticket_list},freshdesk_caller_name_common:function(n){return n.common.freshdesk_caller_name},freshdesk_caller_number_common:function(n){return n.common.freshdesk_caller_number},freshdesk_caller_contact_id_common:function(n){return n.common.freshdesk_caller_contact_id},conv_id:function(n){return n.call.conv_id},call_state:function(n){return n.call.call_state},current_call:function(n){return n.call.current_call},loading:function(n){return n.call.loading},recording_url:function(n){return n.call.recording_url},contact_name:function(n){return n.call.contact_name},ticket_id:function(n){return n.common.ticket_id},single_contact:function(n){return n.call.single_contact},contact_id:function(n){return n.call.contact_id},selected_ticket_id:function(n){return n.call.selected_ticket_id},create_contact_phone_number:function(n){return n.call.create_contact_phone},freshchat_user_id:function(n){return n.call.freshchat_user_id},crm_contact_id:function(n){return n.call.crm_contact_id},conversation_id:function(n){return n.call.conversation_id},incoming_call_frag_flag:function(n){return n.call.incoming_call_frag_flag},channel_id:function(n){return n.call.channel_id},app_id:function(n){return n.call.app_id},conversation_agent_id:function(n){return n.call.conversation_agent_id},fcrm_loggedin_agent_uuid:function(n){return n.call.fcrm_loggedin_agent_uuid},fcrm_loggedin_agent_name:function(n){return n.call.fcrm_loggedin_agent_name},freshsales_caller_mcr_id:function(n){return n.call.freshsales_caller_mcr_id},conversation_details:function(n){return n.call.conversation_details},org_contact_id:function(n){return n.call.org_contact_id},account_id:function(n){return n.common.account_id},call_logs:function(n){return n.callLogs.call_logs},conversation_internal_id:function(n){return n.call.conversation_internal_id},call_logs_module:function(n){return n.callLogs.call_logs},main_agent_id:function(n){return n.call.main_agent_id},call_id:function(n){return n.call.call_id},call_ended_flag:function(n){return n.call.call_ended_flag},recording_completed_flag:function(n){return n.call.recording_completed_flag}}});function G(n){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},G(n)}function F(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function U(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?F(Object(t),!0).forEach(function(e){H(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function H(n,e,t){return(e=function(n){var e=function(n){if("object"!=G(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=G(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==G(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return V(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return c=n.done,n},e:function(n){i=!0,a=n},f:function(){try{c||null==t.return||t.return()}finally{if(i)throw a}}}}function V(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=Array(e);t<e;t++)o[t]=n[t];return o}function q(n){if(null!=n){var e=n["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],t=0;if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}throw new TypeError(G(n)+" is not iterable")}function Z(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return $(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):($(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,$(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,$(d,"constructor",s),$(s,"constructor",l),l.displayName="GeneratorFunction",$(s,r,"GeneratorFunction"),$(d),$(d,r,"Generator"),$(d,o,function(){return this}),$(d,"toString",function(){return"[object Generator]"}),(Z=function(){return{w:a,m:f}})()}function $(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}$=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){$(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},$(n,e,t,o)}function B(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function W(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){B(a,o,r,c,i,"next",n)}function i(n){B(a,o,r,c,i,"throw",n)}c(void 0)})}}t(15306);var J={},K={},Q={},Y={},X=new Set,nn={},en={},tn={},on={},rn={},an={},cn=null,ln=null;function sn(n){return un.apply(this,arguments)}function un(){return(un=W(Z().m(function n(e){return Z().w(function(n){for(;;)switch(n.n){case 0:if(!cn){n.n=1;break}return n.a(2,cn);case 1:if(!ln){n.n=2;break}return n.a(2,ln);case 2:return ln=W(Z().m(function n(){var t,o;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,e.db.get("Zoom_BYOT");case 1:return t=n.v,cn=null==t?void 0:t.zoomPhoneChannelId,console.log("[Handler] Cached channel ID:",cn),n.a(2,cn);case 2:return n.p=2,o=n.v,console.warn("[Handler] Failed to fetch channel ID from DB:",o),n.a(2,null);case 3:return n.p=3,ln=null,n.f(3);case 4:return n.a(2)}},n,null,[[0,2,3,4]])}))(),n.a(2,ln)}},n)}))).apply(this,arguments)}var dn="zoom_processed_call_logs";function fn(n){try{"undefined"!=typeof localStorage&&localStorage.setItem(dn,JSON.stringify(Array.from(n)))}catch(n){console.warn("[Handler] Failed to save processed call logs to localStorage:",n)}}var pn=function(){try{var n="undefined"!=typeof localStorage&&localStorage.getItem(dn);return n?new Set(JSON.parse(n)):new Set}catch(n){return console.warn("[Handler] Failed to read processed call logs from localStorage:",n),new Set}}(),mn={windowStart:Date.now(),requestCount:0,isLimited:!1},gn=["zp-call-ringing-event","zp-call-connected-event","zp-call-voicemail-received-event","zp-call-log-completed-event","zp-call-recording-completed-event","zp-call-missed-event","zp-call-ended-event"];function vn(n,e){return!(!K[n]||"created"!==K[n][e])}function _n(n,e){if(!n||!e)return!1;K[n]||(K[n]={});var t=K[n][e];return"created"!==t&&"creating"!==t&&(K[n][e]="creating",!0)}function bn(n,e){n&&e&&(K[n]||(K[n]={}),K[n][e]="created")}function hn(n,e){try{if(!n||!e)return;if(!K[n])return;"creating"===K[n][e]&&delete K[n][e]}catch(n){}}function yn(n,e){bn(n,e)}function wn(n){try{var e=nn[n];e&&e.conversation_internal_id&&(z.commit("call/SET_CONV",e.conversation_internal_id),z.commit("call/SET_CONVERSATION_INTERNAL_ID",e.conversation_internal_id))}catch(n){console.warn("[Handler] Failed to set internal conversation id in store",n)}}function kn(n,e){var t;return!0===(null===(t=J[n])||void 0===t?void 0:t[e])}function Cn(n,e){return!0===tn["".concat(n,"-").concat(e)]}function Tn(n,e){tn["".concat(n,"-").concat(e)]=!0}function Sn(n,e){delete tn["".concat(n,"-").concat(e)]}function On(){var n=Date.now();return n-mn.windowStart>6e4?(mn={windowStart:n,requestCount:0,isLimited:!1},!1):mn.requestCount>=45?(mn.isLimited=!0,!0):mn.isLimited}function En(){mn.requestCount++}function xn(n,e){return Nn.apply(this,arguments)}function Nn(){return Nn=W(Z().m(function n(e,t){var o,r,a,c,i,l,s,u,d,f=arguments;return Z().w(function(n){for(;;)switch(n.n){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:{},c=null!==(o=(a=f.length>3&&void 0!==f[3]?f[3]:{}).maxRetries)&&void 0!==o?o:1,a.baseDelay,i=0,l=r._fragmentKey,s=r.call_id,delete r._fragmentKey,!(l&&s&&vn(s,l))){n.n=1;break}return console.log("[Handler] Fragment ".concat(l," already exists for callId ").concat(s,", skipping API call")),n.a(2);case 1:u=Z().m(function n(){var o,a,u,d,f,p,m,g,v,_,b,h,y,w,k,C,T,S,O;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:if(!On()){n.n=1;break}throw console.log("[Handler] Rate limit active globally, failing fast for ".concat(t," on ").concat(s)),(o=new Error("Rate limited globally")).status=429,o;case 1:return En(),n.p=2,n.n=3,e.request.invoke(t,r);case 3:if(a=n.v,u=null==a?void 0:a.status,d="string"==typeof(null==a?void 0:a.message)?a.message:JSON.stringify((null==a?void 0:a.message)||""),f=d&&d.includes('"status":429'),429!==u&&!f){n.n=4;break}throw(p=new Error("Rate limited")).status=429,p.resp=a,p;case 4:if(l&&s)try{bn(s,l)}catch(n){}return n.a(2,{v:a});case 5:if(n.p=5,O=n.v,i++,v=String((null==O?void 0:O.message)||(null==O||null===(m=O.resp)||void 0===m?void 0:m.message)||(null==O?void 0:O.resp)||"").toLowerCase(),_=429===(null==O?void 0:O.status)||429===(null==O||null===(g=O.resp)||void 0===g?void 0:g.status)||v.includes('"status":429')||v.includes("exceeded limit")||v.includes("50 requests per minute")||v.includes("rate limit"),!(400===(null==O?void 0:O.status)&&String((null==O?void 0:O.message)||"").toLowerCase().includes("pre-exists")||String(v).includes("pre-exists"))){n.n=8;break}return console.log("[Handler] ".concat(t," returned duplicate (pre-exists), skipping retry for ").concat(s)),n.p=6,w=(null==O?void 0:O.resp)||O||{},(k=null!==(b=null!==(h=null!==(y=null==w?void 0:w.message)&&void 0!==y?y:null==w?void 0:w.response)&&void 0!==h?h:null==w?void 0:w.body)&&void 0!==b?b:String((null==O?void 0:O.message)||""))&&"string"!=typeof k&&(k=JSON.stringify(k)),C={status:(null==w?void 0:w.status)||200,message:k},n.a(2,{v:C});case 7:return n.p=7,n.v,n.a(2,{v:O.resp||O});case 8:if(!_){n.n=9;break}throw mn.isLimited=!0,mn.windowStart=Date.now(),console.warn("[Handler] ".concat(t," rate limited, failing fast for ").concat(s)),O;case 9:if(!(i>c)){n.n=10;break}throw console.warn("[Handler] ".concat(t," exceeded max retries (").concat(c,")")),O;case 10:return T=200*Math.random(),S=Math.min(5e3,500*Math.pow(2,i-1)+T),console.warn("[Handler] ".concat(t," failed — retry ").concat(i,"/").concat(c," in ").concat(Math.round(S),"ms")),n.n=11,new Promise(function(n){return setTimeout(n,S)});case 11:return n.a(2,0)}},n,null,[[6,7],[2,5]])});case 2:return n.d(q(u()),3);case 3:if(0!==(d=n.v)){n.n=4;break}return n.a(3,2);case 4:if(!d){n.n=5;break}return n.a(2,d.v);case 5:n.n=2;break;case 6:return n.a(2)}},n)})),Nn.apply(this,arguments)}function In(n){var e,t,o=n&&(n.message||(null===(e=n.resp)||void 0===e?void 0:e.message)||(null==n||null===(t=n.resp)||void 0===t?void 0:t.response))||"";if(!o)return!1;var r=String(o).toLowerCase();return r.includes("method not allowed")||r.includes("http 405")||r.includes('"status":405')}function An(n,e){return jn.apply(this,arguments)}function jn(){return(jn=W(Z().m(function n(e,t){var o,r,a,c;return Z().w(function(n){for(;;)switch(n.n){case 0:if(r=null===(o=t.data)||void 0===o?void 0:o.callId,a=t.type,r&&a){n.n=1;break}return n.a(2);case 1:if(!vn(r,a)){n.n=2;break}return console.log("[Queue] Fragment ".concat(a," already exists for callId ").concat(r,", skipping")),n.a(2);case 2:if(!kn(r,a)){n.n=3;break}return console.log("[Queue] Event ".concat(a," already processed for callId ").concat(r,", skipping")),n.a(2);case 3:if(!Cn(r,a)){n.n=4;break}return console.log("[Queue] Event ".concat(a," is currently processing for callId ").concat(r,", skipping")),n.a(2);case 4:if("zp-call-ended-event"!==a||!X.has(r)){n.n=5;break}return console.log("[Queue] Call end already handled for callId ".concat(r,", skipping")),n.a(2);case 5:Tn(r,a),Q[r]||(Q[r]={}),Q[r][a]=t.data,console.log("[Queue] Queued ".concat(a," for callId ").concat(r)),Y[r]&&clearTimeout(Y[r]),c="zp-call-ended-event"===a?3e3:1e3,Y[r]=setTimeout(function(){return Dn(e,r)},c);case 6:return n.a(2)}},n)}))).apply(this,arguments)}function Dn(n,e){return Pn.apply(this,arguments)}function Pn(){return(Pn=W(Z().m(function n(e,t){var o,r,a,c,i,l,s,u,d,f,p,m;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:if(o=Q[t]){n.n=1;break}return n.a(2);case 1:if(r=o["zp-call-voicemail-received-event"]&&!kn(t,"zp-call-voicemail-received-event"),a=o["zp-call-ended-event"]&&!kn(t,"zp-call-ended-event"),c=new Set,!a||!r){n.n=3;break}if(rn[t]=(rn[t]||0)+1,!(rn[t]<=3)){n.n=2;break}return console.log("[Queue] Deferring call-ended event for callId ".concat(t," until voicemail processed (deferral ").concat(rn[t],")")),setTimeout(function(){return Dn(e,t)},1e3),n.a(2);case 2:console.log("[Queue] Max voicemail deferrals reached for callId ".concat(t,", proceeding with call-end"));case 3:if(i=!!o["zp-call-recording-completed-event"],l=kn(t,"zp-call-recording-completed-event"),(s=o["zp-call-ended-event"])&&"rejected"===s.result||!a||i||l){n.n=5;break}if(on[t]=(on[t]||0)+1,!(on[t]<=3)){n.n=4;break}return console.log("[Queue] Deferring call-ended event for callId ".concat(t," to wait for recording (deferral ").concat(on[t],")")),setTimeout(function(){return Dn(e,t)},3e3),n.a(2);case 4:console.log("[Queue] Max deferrals reached for callId ".concat(t,", proceeding with call-end"));case 5:u=M(gn),n.p=6,u.s();case 7:if((d=u.n()).done){n.n=14;break}if(f=d.value,!o[f]||kn(t,f)||c.has(f)){n.n=13;break}if(c.add(f),n.p=8,!vn(t,f)&&!kn(t,f)){n.n=9;break}return console.log("[Queue] Event ".concat(f," already handled for callId ").concat(t,", skipping")),n.a(3,13);case 9:return n.n=10,Ln(e,{type:f,data:o[f]});case 10:n.n=12;break;case 11:n.p=11,p=n.v,console.error("[Queue] Error processing ".concat(f," for callId ").concat(t),p);case 12:n.p=12;try{Sn(t,f)}catch(n){}return c.delete(f),n.f(12);case 13:n.n=7;break;case 14:n.n=16;break;case 15:n.p=15,m=n.v,u.e(m);case 16:return n.p=16,u.f(),n.f(16);case 17:delete Q[t],Y[t]&&(clearTimeout(Y[t]),delete Y[t]),setTimeout(function(){try{delete J[t],delete on[t],delete rn[t],X.delete(t),delete K[t];try{z.dispatch("call/clearCallEventFlags",t)}catch(n){}gn.forEach(function(n){return Sn(t,n)})}catch(n){console.warn("[Queue] Error during cleanup:",n)}},6e4);case 18:return n.a(2)}},n,null,[[8,11,12,13],[6,15,16,17]])}))).apply(this,arguments)}function Ln(n,e){return Rn.apply(this,arguments)}function Rn(){return(Rn=W(Z().m(function n(e,t){var o,r,a,c,i,l,s,u,d,f,p,m,g,v,_,b,h,y,w,k,C,T,S,O,E,x,N,I,A,j,D,P,L,R,G,F,U,H,M,V,q,$,B,J,K,Q,Y,tn,on,rn,cn,ln,un,dn,fn,pn,mn,gn,kn,Cn,Tn,Sn;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:if(s=t.type,u=t.data,d=u.callId,n.p=1,p="".concat(d,"_").concat(s),!((null===(f=z.state)||void 0===f||null===(f=f.call)||void 0===f?void 0:f.call_event_flags)||{})[p]){n.n=2;break}return console.log("[Handler] ".concat(s," already processed for ").concat(d,", SKIPPING.")),n.a(2);case 2:z.dispatch("call/setCallEventFlag",{callId:d,eventType:s,value:!0}),n.n=4;break;case 3:n.p=3,un=n.v,console.warn("[Handler] Failed to access/mark vuex call_event_flags",un);case 4:return En(),console.log("[Zoom Event]",s),m="inbound"===u.direction,g=m?"INCOMING":"OUTGOING",v=z.getters.app_id,n.n=5,sn(e);case 5:_=n.v,b=_||z.getters.channel_id,console.log("Channel ID (cached):",b),h=z.getters.conversation_id,y=z.getters.main_agent_id,w=z.getters.fcrm_loggedin_agent_uuid,k=z.getters.fcrm_loggedin_agent_name,C=z.getters.org_contact_id,z.commit("call/SET_CALL_DETAILS",u.callId),T=m?(null===(o=u.caller)||void 0===o?void 0:o.number)||(null===(r=u.caller)||void 0===r?void 0:r.phoneNumber):(null===(a=u.callee)||void 0===a?void 0:a.number)||(null===(c=u.callee)||void 0===c?void 0:c.phoneNumber),S=m?null===(i=u.caller)||void 0===i?void 0:i.name:null===(l=u.callee)||void 0===l?void 0:l.name,O=!1,n.p=6,dn=s,n.n="zp-call-ringing-event"===dn?7:"zp-call-connected-event"===dn?20:"zp-call-ended-event"===dn?25:"zp-call-recording-completed-event"===dn?40:"zp-call-voicemail-received-event"===dn?47:"zp-call-log-completed-event"===dn?61:64;break;case 7:if(N=null===(E=u.callId)||void 0===E?void 0:E.includes("_1"),I=null===(x=u.callId)||void 0===x?void 0:x.includes("warm"),z.dispatch("call/setCallEndedFlag",!1),z.dispatch("call/setRecordingCompletedFlag",!1),!N){n.n=8;break}return A={channelId:b,freshchatAgentOrgAgentId:w,freshchatAgentorgAgentName:k,call_id:u.callId,callerNumber:T,callType:g,callStatus:"COMPLETED",callLifeCycleEventType:"COLD_TRANSFER",mcr_id:C},console.log("[Handler] Creating transfer call fragment:",A),n.n=8,xn(e,"createConversationFreshchat",A);case 8:if(!I){n.n=9;break}return P={conversationId:(null===(j=nn[d])||void 0===j?void 0:j.conversation_id)||h||z.getters.conversation_id,channelId:b,callType:g,callStatus:"ON_HOLD",callLifeCycleEventType:"WARM_TRANSFER",call_id:u.callId,callerNumber:(null===(D=u.callee)||void 0===D?void 0:D.phoneNumber)||T,mcr_id:C,freshchatAgentOrgAgentId:w,freshchatAgentorgAgentName:k},console.log("[Handler] Creating call connected fragment for warm transfer:",P),n.n=9,xn(e,"createConversationFreshchat",P);case 9:if(L={channelId:b,freshchatAgentOrgAgentId:w,freshchatAgentorgAgentName:k,call_id:u.callId,callerNumber:T,callType:g,callStatus:"INITIATED",callLifeCycleEventType:m?"INCOMING_INITIATED":"OUTGOING_INITIATED",mcr_id:C,_fragmentKey:"zp-call-ringing-event"},console.log("[Handler] createConversationFreshchat payload:",L),!nn[d]){n.n=10;break}R=nn[d],console.log("[Handler] Conversation already exists for callId ".concat(d,", reusing.")),console.log("vvconversation",R);try{z.commit("call/SET_CONVERSATION_APPID",R.app_id),z.commit("call/SET_CONVERSATION_FUID",R.assigned_agent_id),z.commit("call/SET_CONVERSATION_ID",R.conversation_id),void 0!==R.conversation_internal_id&&z.commit("call/SET_CONV",R.conversation_internal_id),z.commit("call/SET_CONVERSATION_INTERNAL_ID",R.conversation_internal_id)}catch(n){console.warn("[Handler] Failed to set stored conversation in store",n)}n.n=19;break;case 10:if(!en[d]){n.n=15;break}return n.p=11,n.n=12,en[d];case 12:G=n.v,console.log("vvconversation",G),G&&(z.commit("call/SET_CONVERSATION_APPID",G.app_id),z.commit("call/SET_CONVERSATION_FUID",G.assigned_agent_id),z.commit("call/SET_CONVERSATION_ID",G.conversation_id),void 0!==G.conversation_internal_id&&z.commit("call/SET_CONV",G.conversation_internal_id),z.commit("call/SET_CONVERSATION_INTERNAL_ID",G.conversation_internal_id)),n.n=14;break;case 13:n.p=13,fn=n.v,console.warn("[Handler] Existing createConversation promise failed",fn);case 14:n.n=19;break;case 15:return en[d]=W(Z().m(function n(){var t,o,r,a,c;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,e.request.invoke("createConversationFreshchat",L);case 1:if(o=n.v,r=null,null!=o&&o.message)try{r=JSON.parse(o.message)}catch(n){console.warn("[Handler] Failed to parse conversation response:",n),r=null}return!0===(null===(t=r)||void 0===t?void 0:t.pre_exists)&&(console.log("[Handler] Conversation pre-exists for callId",d),(a=z.getters.conversation_id)?(r={conversation_id:a,conversation_internal_id:z.getters.conv_id,assigned_agent_id:z.getters.main_agent_id,app_id:z.getters.app_id},console.log("[Handler] Using cached conversation details from store")):(r={conversation_id:"",conversation_internal_id:0,call_id:d},console.log("[Handler] Pre-exists but no cached details, will use empty for now")),yn(d,"zp-call-ringing-event")),console.log("?????????????Conversation created:",r),r&&void 0!==r.conversation_internal_id&&z.commit("call/SET_CONV",r.conversation_internal_id),r&&(r.conversation_id||r.pre_exists)?(nn[d]=r,console.log("[Handler] createConversationFreshchat response:",r),O=!0,yn(d,"zp-call-ringing-event")):(console.log("[Handler] No conversation data returned, marking fragment as created"),yn(d,"zp-call-ringing-event")),n.a(2,r);case 2:return n.p=2,c=n.v,console.warn("[Handler] createConversation failed for callId ".concat(d,":"),c),n.a(2,null);case 3:return n.p=3,delete en[d],n.f(3);case 4:return n.a(2)}},n,null,[[0,2,3,4]])}))(),n.p=16,n.n=17,en[d];case 17:(F=n.v)&&(z.commit("call/SET_CONVERSATION_APPID",F.app_id),z.commit("call/SET_CONVERSATION_FUID",F.assigned_agent_id),z.commit("call/SET_CONVERSATION_ID",F.conversation_id),void 0!==F.conversation_internal_id&&z.commit("call/SET_CONV",F.conversation_internal_id),z.commit("call/SET_CONVERSATION_INTERNAL_ID",F.conversation_internal_id),O=!0,yn(d,"zp-call-ringing-event")),n.n=19;break;case 18:n.p=18,pn=n.v,console.warn("[Handler] createConversation promise rejected",pn);case 19:return nn[d]&&(O=!0),n.a(3,65);case 20:if(wn(d),M={conversationId:(null===(U=nn[d])||void 0===U?void 0:U.conversation_id)||h||z.getters.conversation_id,mainagentid:(null===(H=nn[d])||void 0===H?void 0:H.assigned_agent_id)||y||z.getters.main_agent_id,channelId:b||"",callType:g||"",callStatus:"IN_PROGRESS",callLifeCycleEventType:m?"INCOMING_AGENT_ASSIGNED":"OUTGOING_AGENT_ASSIGNED",call_id:u.callId||"",callerNumber:T||"",mcr_id:C||"",freshchatAgentOrgAgentId:w||"",freshchatAgentorgAgentName:k||"",_fragmentKey:"zp-call-connected-event"},console.log("[Handler] updateCallAgentPicked payload:",M),M.call_id){n.n=21;break}return console.error("Missing call_id in call connected payload!"),n.a(3,65);case 21:if(M.conversationId){n.n=22;break}return console.error("Missing conversationId in call connected payload!"),n.a(3,65);case 22:if(M.callLifeCycleEventType){n.n=23;break}return console.error("Missing callLifeCycleEventType in call connected payload!"),n.a(3,65);case 23:return n.n=24,e.request.invoke("updateCallAgentPicked",M);case 24:return O=!0,yn(d,"zp-call-connected-event"),n.a(3,65);case 25:if(!X.has(d)){n.n=26;break}return console.log("[Handler] Call end already processed for ".concat(d,", skipping")),n.a(3,65);case 26:if(q=u.result,wn(d),$={conversationId:(null===(V=nn[d])||void 0===V?void 0:V.conversation_id)||h||z.getters.conversation_id,channel_id:b,assigned_org_agent_id:w,type:"PHONE",ext_id:u.callId,call_id:u.callId,phone_number:T,call_provider:"Zoom Phone",call_type:g,call_status:"COMPLETED",call_life_cycle_event_type:"CALL_ENDS",call_duration:u.duration||0,agentId:w,label:k,orgContactId:C,_fragmentKey:"zp-call-ended-event"},console.log("[Handler] Call ended payload:",$),$.conversationId){n.n=27;break}return console.error("Missing conversationId in call ended payload!"),n.a(3,65);case 27:if("missed"!=q){n.n=33;break}if(_n(d,"zp-call-ended-event")){n.n=28;break}return console.log("[Handler] Another process is creating missed-call fragment for ".concat(d,", skipping")),n.a(3,65);case 28:return n.p=28,n.n=29,e.request.invoke("missedCallCreateConvoFchat",$);case 29:X.add(d),n.n=32;break;case 30:if(n.p=30,mn=n.v,console.error("[Handler] missedCallCreateConvoFchat failed for ".concat(d,":"),mn),!In(mn)){n.n=31;break}console.warn("[Handler] missedCallCreateConvoFchat returned 405; marking fragment to avoid retry for ".concat(d)),yn(d,"zp-call-ended-event"),X.add(d),n.n=32;break;case 31:throw hn(d,"zp-call-ended-event"),mn;case 32:n.n=39;break;case 33:if("rejected"!=q){n.n=34;break}console.log("[Handler] Call ".concat(d," rejected - deferring call-end until voicemail (if any)")),an[d]=!0,setTimeout(W(Z().m(function n(){var t;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:if(!an[d]||X.has(d)){n.n=5;break}if(console.log("[Handler] No voicemail received for rejected call ".concat(d," after timeout - creating call end fragment")),_n(d,"zp-call-ended-event")){n.n=1;break}console.log("[Handler] Call-end fragment already being created for ".concat(d,", skipping fallback creation"));try{delete an[d]}catch(n){}return n.a(2);case 1:return n.p=1,n.n=2,e.request.invoke("updateCallEnd",$);case 2:X.add(d),n.n=4;break;case 3:n.p=3,t=n.v,console.error("[Handler] updateCallEnd (fallback) failed for ".concat(d,":"),t),In(t)?(yn(d,"zp-call-ended-event"),X.add(d)):hn(d,"zp-call-ended-event");case 4:n.p=4;try{delete an[d]}catch(n){}return n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])})),12e4),n.n=39;break;case 34:if("ended"!=q){n.n=39;break}return n.p=35,n.n=36,e.request.invoke("updateCallEnd",$);case 36:yn(d,"zp-call-ended-event"),X.add(d),n.n=39;break;case 37:if(n.p=37,gn=n.v,console.error("[Handler] updateCallEnd failed for ".concat(d,":"),gn),!In(gn)){n.n=38;break}console.warn("[Handler] updateCallEnd returned 405; marking fragment to avoid retry for ".concat(d)),O=!0,X.add(d),n.n=39;break;case 38:throw gn;case 39:return O=!0,nn[d]&&setTimeout(function(){try{delete nn[d]}catch(n){}},3e5),n.a(3,65);case 40:if(wn(d),(K={conversationId:(null===(B=nn[d])||void 0===B?void 0:B.conversation_id)||h||z.getters.conversation_id,channelId:b,callType:g,callStatus:"COMPLETED",call_life_cycle_event_type:"CALL_RECORDING_AVAILABLE",call_id:u.callId,callerNumber:T,mcr_id:C,recording_link:u.recordingUrl,freshchatAgentOrgAgentId:(null===(J=nn[d])||void 0===J?void 0:J.assigned_agent_id)||y||z.getters.main_agent_id,freshchatAgentorgAgentName:k,_fragmentKey:"zp-call-recording-completed-event"}).conversationId){n.n=41;break}return console.error("Missing conversationId in recording completed payload!"),n.a(3,65);case 41:if(console.log("[Handler] updateRecordingsInFreshChatConvo payload:",K),_n(d,"zp-call-recording-completed-event")){n.n=42;break}return console.log("[Handler] Recording fragment already being created for ".concat(d,", skipping")),n.a(3,65);case 42:return n.p=42,n.n=43,e.request.invoke("updateRecordingsInFreshChatConvo",K);case 43:O=!0,bn(d,"zp-call-recording-completed-event"),n.n=46;break;case 44:if(n.p=44,kn=n.v,console.error("[Handler] updateRecordingsInFreshChatConvo failed for ".concat(d,":"),kn),!In(kn)){n.n=45;break}console.warn("[Handler] updateRecordingsInFreshChatConvo returned 405; marking fragment to avoid retry for ".concat(d)),yn(d,"zp-call-recording-completed-event"),n.n=46;break;case 45:throw hn(d,"zp-call-recording-completed-event"),kn;case 46:return n.a(3,65);case 47:if(wn(d),Y=(null===(Q=nn[d])||void 0===Q?void 0:Q.conversation_id)||z.getters.conversation_id,(tn={appId:v,conversationId:Y,channelId:b,voicemail_link:u.voicemailUrl,call_duration:0,callType:g,call_status:"MISSED_CALL",call_life_cycle_event_type:"VOICEMAIL_RECEIVED",call_id:u.callId,phoneNumber:T,orgContactId:C,_fragmentKey:"zp-call-voicemail-received-event"}).conversationId){n.n=48;break}return console.error("Missing conversationId in voicemail payload!"),n.a(3,65);case 48:if(_n(d,"zp-call-voicemail-received-event")){n.n=49;break}return console.log("[Handler] Voicemail fragment already being created for ".concat(d,", skipping")),n.a(3,65);case 49:return n.p=49,n.n=50,e.request.invoke("voiceMailInFChat",tn);case 50:console.log("[Handler] voiceMailInFChat response success"),O=!0,bn(d,"zp-call-voicemail-received-event"),n.n=53;break;case 51:if(n.p=51,Cn=n.v,console.error("[Handler] voiceMailInFChat failed for ".concat(d,":"),Cn),!In(Cn)){n.n=52;break}console.warn("[Handler] voiceMailInFChat returned 405; marking fragment to avoid retry for ".concat(d)),yn(d,"zp-call-voicemail-received-event"),n.n=53;break;case 52:throw hn(d,"zp-call-voicemail-received-event"),Cn;case 53:if(X.has(d)){n.n=59;break}if(console.log("[Handler] Call-end not yet processed for voicemail; updating call-end for ".concat(d)),on={conversationId:Y,channel_id:b,assigned_org_agent_id:w,type:"PHONE",ext_id:u.callId,call_id:u.callId,phone_number:T,call_provider:"Zoom Phone",call_type:g,call_status:"COMPLETED",call_life_cycle_event_type:"CALL_ENDS",call_duration:u.duration||0,agentId:w,label:k,orgContactId:C,_fragmentKey:"zp-call-ended-event"},_n(d,"zp-call-ended-event")){n.n=54;break}console.log("[Handler] Another process is creating call-end fragment for ".concat(d,", skipping update from voicemail")),n.n=58;break;case 54:return n.p=54,n.n=55,e.request.invoke("updateCallEnd",on);case 55:console.log("[Handler] updateCallEnd (from voicemail) response success"),bn(d,"zp-call-ended-event"),X.add(d);try{delete an[d]}catch(n){}n.n=58;break;case 56:if(n.p=56,Tn=n.v,console.error("[Handler] updateCallEnd (from voicemail) failed for ".concat(d,":"),Tn),!In(Tn)){n.n=57;break}console.warn("[Handler] updateCallEnd (from voicemail) returned 405; marking as processed for ".concat(d)),X.add(d),n.n=58;break;case 57:throw hn(d,"zp-call-ended-event"),Tn;case 58:n.n=60;break;case 59:console.log("[Handler] Call-end already processed for ".concat(d,", skipping redundant update from voicemail handler"));case 60:return n.a(3,65);case 61:if(rn=function(n){return new Date(n).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")},cn=z.getters.contact_name,console.log("Contact Name from store:",cn),!vn(d,"zp-call-log-completed-event")){n.n=62;break}return console.log("[Handler] Call log fragment already created for ".concat(d,", skipping duplicate")),O=!0,n.a(3,65);case 62:return ln={callId:d,callerName:cn||S,callerNumber:T,callDirection:g.toLowerCase(),direction:u.result,callTimeStamp:rn(u.dateTime),_fragmentKey:"zp-call-log-completed-event"},console.log("[Handler] Adding call log with payload:",ln),n.n=63,$n(e,ln);case 63:return yn(d,"zp-call-log-completed-event"),O=!0,n.a(3,65);case 64:return console.warn("[Handler] No handler for Zoom event type",s),n.a(3,65);case 65:n.n=67;break;case 66:n.p=66,Sn=n.v,console.error("[Handler] Error processing ".concat(s," for callId ").concat(d,":"),Sn);case 67:return n.p=67,O?console.log("[Handler] Successfully processed ".concat(s," for ").concat(d)):console.log("[Handler] Event ".concat(s," failed for ").concat(d,", flag will remain set until cleanup")),n.f(67);case 68:return n.a(2)}},n,null,[[54,56],[49,51],[42,44],[35,37],[28,30],[16,18],[11,13],[6,66,67,68],[1,3]])}))).apply(this,arguments)}function zn(n){return Gn.apply(this,arguments)}function Gn(){return(Gn=W(Z().m(function n(e){var t,o,r,a,c,i;return Z().w(function(n){for(;;)switch(n.n){case 0:if(t=z.getters.conversation_id,null!=(o=z.getters.main_agent_id)&&""!==o){n.n=2;break}return console.error("Agent ID is missing. Cannot add notes."),n.n=1,window.client.request.invokeTemplate("getAgentsList",{context:{page:1,items_per_page:2,sort_order:"asc"}});case 1:a=n.v,console.log("Agents List Result:",a),c=JSON.parse(a.response),console.log("Parsed Agents List:",c),o=null===(r=c.agents)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.id,console.log("Extracted Agent ID:",o);case 2:return console.log("Notes saved:",e,o,t),i={agentId:o,notes:e,conversationId:t},n.n=3,xn(client,"onAddPrivateNotesInFreshchat",i);case 3:return n.a(2)}},n)}))).apply(this,arguments)}function Fn(n,e){return Un.apply(this,arguments)}function Un(){return Un=W(Z().m(function n(e,t){var o,r,a,c,i,l,s=arguments;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:return o=s.length>2&&void 0!==s[2]?s[2]:"",n.p=1,n.n=2,xn(e,"fetchTicketsByPhone",{phone:t,name:o});case 2:if(200!==(r=n.v).status){n.n=3;break}return a=JSON.parse(r.message),c=a.contact,i=a.tickets,z.commit("call/SET_SINGLE_CONTACT",c),z.commit("call/SET_CONTACT_ID",c.id),z.commit("call/SET_FRESHDESK_TICKETS",i||[]),n.a(2,{contact:c,tickets:i});case 3:return z.commit("call/SET_FRESHDESK_TICKETS",[]),n.a(2,{contact:null,tickets:[]});case 4:n.n=6;break;case 5:return n.p=5,l=n.v,console.error("[Handler] Error fetching tickets for user:",l),z.commit("call/SET_FRESHDESK_TICKETS",[]),n.a(2,{contact:null,tickets:[]});case 6:return n.a(2)}},n,null,[[1,5]])})),Un.apply(this,arguments)}function Hn(n,e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=W(Z().m(function n(e,t,o){var r,a;return Z().w(function(n){for(;;)switch(n.n){case 0:return r=Vn(t),n.n=1,xn(e,"findOrCreateFreshdeskContact",{phone:r,name:o});case 1:return a=n.v,n.a(2,JSON.parse(a.message))}},n)}))).apply(this,arguments)}function Vn(n){return n?n.startsWith("+")?n.substring(1):n:""}function qn(n,e){return Zn.apply(this,arguments)}function Zn(){return(Zn=W(Z().m(function n(e,t){var o,r,a,c,i,l,s,u,d,f,p,m,g,v,_,b,h,y,w,k;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:if(d=t.type,f=t.data,p=f.callId,m=f.callType,g=!m&&/inbound|incoming/i.test(f.direction||f.callDirection||""),m=m||(g?"INCOMING":"OUTGOING"),v=g?(null===(o=f.caller)||void 0===o?void 0:o.number)||(null===(r=f.caller)||void 0===r?void 0:r.phoneNumber)||f.phone:(null===(a=f.callee)||void 0===a?void 0:a.number)||(null===(c=f.callee)||void 0===c?void 0:c.phoneNumber)||f.phone,_=Vn(v),b=g?(null===(i=f.caller)||void 0===i?void 0:i.name)||(null===(l=f.caller)||void 0===l?void 0:l.phoneNumber)||f.phone:(null===(s=f.callee)||void 0===s?void 0:s.name)||(null===(u=f.callee)||void 0===u?void 0:u.phoneNumber)||f.phone,_){n.n=1;break}return console.warn("[Handler] No phone number in ringing event"),n.a(2);case 1:return z.commit("call/SET_CURRENT_CALL",U(U({},f),{},{status:"ringing",phoneNumber:_,callerName:b,time:(new Date).toISOString()})),n.p=2,n.n=3,e.request.invoke("findOrCreateFullCrmContactByPhone",{phone:_,name:b});case 3:h=n.v,y=JSON.parse(h.message),console.log("[Handler] CRM contact:",y.contact.mcr_id),console.log("[Handler] CRM contact first_name:",y.contact.first_name,"name field:",y.contact.last_name,"display_name:",y.contact.display_name),console.log("crm contact id type",G(y.contact.mcr_id)),console.log("crm contact id-big int",BigInt(y.contact.mcr_id).toString()),z.commit("call/SET_CRM_CONTACT_ID",y),y.contact.first_name||y.contact.last_name||y.contact.display_name,console.log("[Handler] Setting contact name to:",y.contact.first_name,y.contact.last_name,y.contact.display_name),z.commit("call/SET_CONTACT_NAME",y.contact.display_name||y.contact.first_name||y.contact.last_name),z.commit("call/ORG_CONTACT_ID",BigInt(y.contact.mcr_id).toString()),n.n=5;break;case 4:n.p=4,k=n.v,console.error("[Handler] CRM contact error",k);case 5:if(!vn(p,d)){n.n=6;break}return console.log("[Handler] Fragment ".concat(d," already exists for ").concat(p,", skipping")),n.a(2);case 6:return w=U(U({},{callId:p,caller:g?{phoneNumber:_,name:b}:{},callee:g?{}:{phoneNumber:_,name:b},direction:g?"inbound":"outbound"}),f),n.n=7,An(e,{type:d,data:w,_fragmentKey:d});case 7:return n.a(2)}},n,null,[[2,4]])}))).apply(this,arguments)}function $n(n,e){return Bn.apply(this,arguments)}function Bn(){return(Bn=W(Z().m(function n(e,t){var o,r,a,c,i;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:if(n.p=0,o=t.callId,!pn.has(o)){n.n=1;break}return console.log("[Handler] Call log already processed (deduplicated):",o),n.a(2);case 1:return pn.add(o),fn(pn),n.n=2,xn(e,"addCallLog",t);case 2:200===(r=n.v).status&&(a=JSON.parse(r.message),z.commit("callLogs/SET_CALL_LOGS",a),console.log("[Handler] Call log added successfully for ".concat(o)),Object.keys(t).forEach(function(n){return delete t[n]})),n.n=4;break;case 3:n.p=3,i=n.v,console.error("[Handler] Failed to add call log:",i),c=t.callId,pn.delete(c),fn(pn);case 4:return n.a(2)}},n,null,[[0,3]])}))).apply(this,arguments)}function Wn(n,e){return Jn.apply(this,arguments)}function Jn(){return(Jn=W(Z().m(function n(e,t){var o,r,a,c,i;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:return console.log("the payload in create ticket"),n.p=1,n.n=2,xn(e,"createTicketForCaller",{subject:t.subject,description:t.description,priority:t.priority,status:t.status,phone:(null===(o=z.state.call.current_call)||void 0===o?void 0:o.phoneNumber)||z.state.common.single_contact.phone,name:z.state.common.single_contact.name||(null===(r=z.state.call.current_call)||void 0===r?void 0:r.phoneNumber)||(null===(a=z.state.call.current_call)||void 0===a?void 0:a.callerName)});case 2:c=n.v,console.log("[Handler] Ticket create resp:",c),n.n=4;break;case 3:n.p=3,i=n.v,console.error("[Handler] Error creating ticket:",i);case 4:return n.a(2)}},n,null,[[1,3]])}))).apply(this,arguments)}function Kn(n,e,t,o){return Qn.apply(this,arguments)}function Qn(){return(Qn=W(Z().m(function n(e,t,o,r){var a,c;return Z().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,xn(e,"addNoteToTicket",{ticketId:t,noteBody:o,isPrivate:r});case 1:return a=n.v,n.a(2,JSON.parse(a.message));case 2:throw n.p=2,c=n.v,console.error("[Handler] Error adding note to ticket:",c),c;case 3:return n.a(2)}},n,null,[[0,2]])}))).apply(this,arguments)}function Yn(n){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yn(n)}function Xn(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return ne(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(ne(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,ne(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,ne(d,"constructor",s),ne(s,"constructor",l),l.displayName="GeneratorFunction",ne(s,r,"GeneratorFunction"),ne(d),ne(d,r,"Generator"),ne(d,o,function(){return this}),ne(d,"toString",function(){return"[object Generator]"}),(Xn=function(){return{w:a,m:f}})()}function ne(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}ne=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){ne(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},ne(n,e,t,o)}function ee(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function te(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=Array(e);t<e;t++)o[t]=n[t];return o}function oe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function re(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(t),!0).forEach(function(e){ae(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function ae(n,e,t){return(e=function(n){var e=function(n){if("object"!=Yn(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=Yn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Yn(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ce=document.getElementById("zoomCCP"),ie={name:"RecentCalls",computed:re(re({},(0,c.Se)(["call_logs","page_route","create_contact_phone_number"])),{},{filteredCalls:function(){console.log("call logs",this.call_logs);var n,e=(this.recentCallSearch||"").toLowerCase(),t=[],o=new Set,r=function(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return te(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?te(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return c=n.done,n},e:function(n){i=!0,a=n},f:function(){try{c||null==t.return||t.return()}finally{if(i)throw a}}}}(this.call_logs||[]);try{for(r.s();!(n=r.n()).done;){var a=n.value,c=a.callId||"".concat(a.callerNumber||"unknown","_").concat(a.callTimeStamp||"");o.has(c)?console.log("[RecentCalls] Skipping duplicate call: ".concat(c)):(o.add(c),t.push(a))}}catch(n){r.e(n)}finally{r.f()}return t.filter(function(n){return!e||(n.callerName||"").toLowerCase().includes(e)||(n.callerNumber||"").toLowerCase().includes(e)})}}),mounted:function(){console.log("call logs",this.call_logs)},data:function(){return{recentCallSearch:""}},methods:{redirectToAddContact:function(n){var e,t=this;return(e=Xn().m(function e(){return Xn().w(function(e){for(;;)switch(e.n){case 0:t.$store.dispatch("call/setCreateContactNumber",n),t.$store.commit("common/SET_PAGE_ROUTE","new-contact");case 1:return e.a(2)}},e)}),function(){var n=this,t=arguments;return new Promise(function(o,r){var a=e.apply(n,t);function c(n){ee(a,o,r,c,i,"next",n)}function i(n){ee(a,o,r,c,i,"throw",n)}c(void 0)})})()},searchContact:function(){console.log(this.recentCallSearch)},dummy:function(){console.log("button clicked"),this.$store.commit("callLogs/SET_CALL_LOGS",[{callId:"CALL_001",callerName:"John Mathews",callerNumber:"+1 202-555-0148",callDirection:"incoming",callTimeStamp:"2025-11-25 10:32 AM"},{callId:"CALL_002",callerName:"Unknown Caller",callerNumber:"+1 415-555-7782",callDirection:"incoming",callTimeStamp:"2025-11-25 09:10 AM",direction:"Rejected"},{callId:"CALL_003",callerName:"Sophia Wilson",callerNumber:"+1 305-555-6621",callDirection:"outgoing",callTimeStamp:"2025-11-24 08:45 PM"}])},contactRedirection:function(n){},contactRedirectionAndMakeOutboundCall:function(n){ce.contentWindow.postMessage({type:"zp-make-call",data:{number:n.callerNumber||""}},"https://applications.zoom.us"),console.log("outbound call initiated!!"),"function"==typeof window.togglePlatform?window.togglePlatform():console.log("togglePlatform is not available.")}}},le=t(93379),se=t.n(le),ue=t(78997),de=(se()(ue.Z,{insert:"head",singleton:!1}),ue.Z.locals,t(43533)),fe=(0,de.Z)(ie,[["render",function(n,e,t,o,a,c){var l=(0,r.up)("b-form-input"),v=(0,r.up)("font-awesome-icon"),_=(0,r.up)("b-col"),b=(0,r.up)("b-row");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",s,[(0,r.Wm)(l,{size:"sm",class:"recent-input-search",modelValue:a.recentCallSearch,"onUpdate:modelValue":e[0]||(e[0]=function(n){return a.recentCallSearch=n}),change:c.searchContact(),placeholder:"Search Recent Calls"},null,8,["modelValue","change"]),(0,r.kq)(' <button size="sm" class="ml-2" @click="dummy()">Load Dummy Data</button> ')]),(0,r._)("div",u,[c.filteredCalls.length>0?((0,r.wg)(),(0,r.iD)("div",d,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.filteredCalls,function(n,e){return(0,r.wg)(),(0,r.iD)("div",{key:e,style:{cursor:"auto"},class:"recent-call-entry"},[(0,r.Wm)(b,{"no-gutters":"","align-v":"center"},{default:(0,r.w5)(function(){return[(0,r.Wm)(_,{cols:"2",class:"call-history-icon d-flex justify-content-center"},{default:(0,r.w5)(function(){return["missed"===n.direction||"abandoned"===n.direction?((0,r.wg)(),(0,r.j4)(v,{key:0,class:"call-icon missed",icon:"level-up-alt",size:"sm"})):"Rejected"===n.direction?((0,r.wg)(),(0,r.j4)(v,{key:1,class:"call-icon missed",icon:"level-up-alt",size:"sm"})):"outgoing"===n.callDirection?((0,r.wg)(),(0,r.j4)(v,{key:2,class:"call-icon outbound",icon:"arrow-up",size:"lg"})):"incoming"===n.callDirection?((0,r.wg)(),(0,r.j4)(v,{key:3,class:"call-icon inbound",icon:"arrow-down",size:"lg"})):(0,r.kq)("v-if",!0)]}),_:2},1024),(0,r.Wm)(_,{cols:"7",class:"call-log-list"},{default:(0,r.w5)(function(){return[(0,r._)("h6",f,[(0,r.kq)(' @click="contactRedirection(contact)"'),(0,r.Uk)((0,i.zw)(n.callerName),1)]),(0,r._)("div",p,(0,i.zw)(n.callerNumber),1),(0,r._)("div",m,(0,i.zw)(n.callTimeStamp),1)]}),_:2},1024),(0,r.Wm)(_,{cols:"3",class:"icon-actions d-flex justify-content-end align-items-center"},{default:(0,r.w5)(function(){return["Unknown Caller"===n.callerName?((0,r.wg)(),(0,r.j4)(v,{key:0,onClick:function(e){return c.redirectToAddContact(n.callerNumber)},class:"contact-add-icon",icon:"user-plus",title:"Add Contact",size:"sm"},null,8,["onClick"])):(0,r.kq)("v-if",!0),(0,r.Wm)(v,{onClick:function(e){return c.contactRedirectionAndMakeOutboundCall(n)},class:"contact-phone-icon",icon:"phone",title:"Call",size:"sm"},null,8,["onClick"])]}),_:2},1024)]}),_:2},1024)])}),128))])):((0,r.wg)(),(0,r.iD)("div",g,"No recent calls found."))])],64)}],["__scopeId","data-v-4c180b07"]]),pe={class:"contact-search"},me={class:"contact-call-list"},ge={key:0},ve=["onClick"],_e={class:"contact-name"},be={href:"#"},he={class:"contact-number"},ye={key:0,class:"contact-email"},we=["onClick"],ke={key:1},Ce=[function(n){return(0,r.dD)("data-v-7e1d8208"),n=n(),(0,r.Cn)(),n}(function(){return(0,r._)("h3",{id:"no-contacts-found"},"No Contacts Found",-1)})];t(73210);var Te={name:"ContactList",setup:function(){var n=(0,c.oR)(),e=(0,l.iH)(""),t=document.getElementById("zoomCCP"),o=((0,r.Fl)(function(){return n.getters.current_product}),(0,r.Fl)(function(){return n.getters.contact_list})),a=(0,r.Fl)(function(){return n.getters.contact_list_crm});console.log("crmcontact",a);var i=(0,r.Fl)(function(){var n=e.value.toLowerCase(),t=o.value.filter(function(n){var e=n.phone||n.work_number||n.mobile_number;return e&&""!==e.toString().trim()});return n?t.filter(function(e){console.log("Filtering contact:",e);var t=(e.name||e.first_name||e.last_name||e.display_name||"").toLowerCase(),o=(e.phone||e.work_number||e.mobile_number||"").toString().toLowerCase(),r=(e.email||"").toLowerCase();return t.includes(n)||o.includes(n)||r.includes(n)}):t});return(0,r.bv)(function(){window.scrollTo({top:0,behavior:"smooth"})}),{contactSearch:e,contactList:o,filteredContacts:i,fields:[{key:"contacts",label:""},{key:"call",label:""}],contactRedirection:function(n){},contactRedirectionAndMakeOutboundCall:function(n){t.contentWindow.postMessage({type:"zp-make-call",data:{number:n.item.phone||n.item.work_number||n.item.mobile_number}},"https://applications.zoom.us"),console.log("outbound call initiated!!"),"function"==typeof window.togglePlatform?window.togglePlatform():console.log("togglePlatform is not available.")}}}},Se=t(65140);se()(Se.Z,{insert:"head",singleton:!1}),Se.Z.locals;var Oe=(0,de.Z)(Te,[["render",function(n,e,t,o,a,c){var l=(0,r.up)("b-form-input"),s=(0,r.up)("font-awesome-icon"),u=(0,r.up)("b-table");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",pe,[(0,r.Wm)(l,{modelValue:o.contactSearch,"onUpdate:modelValue":e[0]||(e[0]=function(n){return o.contactSearch=n}),class:"contact-input-search",size:"sm",placeholder:"Search contacts..."},null,8,["modelValue"])]),(0,r._)("div",me,[o.filteredContacts.length>0?((0,r.wg)(),(0,r.iD)("div",ge,[(0,r.Wm)(u,{hover:"",items:o.filteredContacts,fields:o.fields,"show-header":"false"},{"cell(contacts)":(0,r.w5)(function(n){return[(0,r._)("div",{id:"contact-list-rows",onClick:function(e){return o.contactRedirection(n)}},[(0,r._)("h6",_e,[(0,r._)("a",be,[(0,r.Wm)(s,{icon:"fa-solid fa-user",class:"contact-icon"}),(0,r.Uk)(" "+(0,i.zw)(n.item.display_name||n.item.name||n.item.first_name||n.item.last_name),1)])]),(0,r._)("h6",he,[(0,r.Wm)(s,{icon:"fa-solid fa-mobile",class:"number-icon"}),(0,r.Uk)(" "+(0,i.zw)(n.item.phone||n.item.work_number||n.item.mobile_number),1)]),(0,r.kq)(" ✅ Only show email if present "),n.item.email?((0,r.wg)(),(0,r.iD)("h6",ye,[(0,r.Wm)(s,{icon:"fa-solid fa-envelope",class:"mail-icon"}),(0,r.Uk)(" "+(0,i.zw)(n.item.email),1)])):(0,r.kq)("v-if",!0)],8,ve)]}),"cell(call)":(0,r.w5)(function(n){return[(0,r._)("button",{class:"call-btn",onClick:function(e){return o.contactRedirectionAndMakeOutboundCall(n)}},[(0,r.Wm)(s,{icon:"phone",size:"sm"})],8,we)]}),_:1},8,["items","fields"])])):((0,r.wg)(),(0,r.iD)("div",ke,Ce))])])}],["__scopeId","data-v-7e1d8208"]]);function Ee(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return xe(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(xe(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,xe(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,xe(d,"constructor",s),xe(s,"constructor",l),l.displayName="GeneratorFunction",xe(s,r,"GeneratorFunction"),xe(d),xe(d,r,"Generator"),xe(d,o,function(){return this}),xe(d,"toString",function(){return"[object Generator]"}),(Ee=function(){return{w:a,m:f}})()}function xe(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}xe=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){xe(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},xe(n,e,t,o)}function Ne(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function Ie(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){Ne(a,o,r,c,i,"next",n)}function i(n){Ne(a,o,r,c,i,"throw",n)}c(void 0)})}}var Ae={class:"homepage-container"},je={__name:"HomePage",setup:function(n){var e=(0,l.iH)("freshdesk"),t=(0,c.oR)(),o=(0,r.Fl)(function(){return t.getters.home_tab}),a=(0,l.iH)(""),s=(0,l.iH)(null);function u(n){requestAnimationFrame(function(){s.value&&(s.value.scrollTop=0)}),t.commit("common/SET_HOME_TAB",n)}return(0,r.bv)(Ie(Ee().m(function n(){var t,o,r,c;return Ee().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,t=window.client,n.n=1,t.instance.context();case 1:return o=n.v,a.value=o.location,console.log("Current location:",a.value),n.n=2,window.client.data.get("currentProduct");case 2:r=n.v,console.log("Current product:",r.currentProduct),"freshsales"===r.currentProduct?e.value="freshsales":e.value="freshdesk",n.n=4;break;case 3:n.p=3,c=n.v,console.error("Error fetching context:",c);case 4:return n.a(2)}},n,null,[[0,3]])}))),function(n,t){return(0,r.wg)(),(0,r.iD)("div",Ae,[(0,r.kq)(" Fixed Tabs "),(0,r._)("div",{class:(0,i.C_)(["tabs",e.value])},[(0,r._)("div",{class:(0,i.C_)(["tab-item",{active:"recent"===o.value}]),onClick:t[0]||(t[0]=function(n){return u("recent")})},t[2]||(t[2]=[(0,r._)("i",{class:"fa fa-clock"},null,-1),(0,r._)("span",null,"Recent",-1)]),2),(0,r._)("div",{class:(0,i.C_)(["tab-item",{active:"contacts"===o.value}]),onClick:t[1]||(t[1]=function(n){return u("contacts")})},t[3]||(t[3]=[(0,r._)("i",{class:"fa fa-user-friends"},null,-1),(0,r._)("span",null,"Contacts",-1)]),2)],2),(0,r.kq)(" Scrollable Content "),(0,r._)("div",{class:"scroll-area",ref_key:"scrollArea",ref:s},["recent"===o.value?((0,r.wg)(),(0,r.j4)(fe,{key:0})):(0,r.kq)("v-if",!0),"contacts"===o.value?((0,r.wg)(),(0,r.j4)(Oe,{key:1})):(0,r.kq)("v-if",!0)],512)])}}},De=t(26248);se()(De.Z,{insert:"head",singleton:!1}),De.Z.locals;var Pe=(0,de.Z)(je,[["__scopeId","data-v-64411de2"]]),Le=t(36370),Re=t.n(Le),ze=function(n){return(0,r.dD)("data-v-7576720a"),n=n(),(0,r.Cn)(),n},Ge={class:"ticket-ui-container"},Fe={class:"zoom-card"},Ue={class:"zoom-card__header"},He=ze(function(){return(0,r._)("div",{class:"avatar"},[(0,r._)("i",{class:"fas fa-user"})],-1)}),Me={class:"caller-name"},Ve={class:"caller-number"},qe={key:0,class:"add-contact-wrapper"},Ze=[ze(function(){return(0,r._)("i",{class:"fas fa-user-plus"},null,-1)})],$e={class:"zoom-card__details"},Be={class:"call-state in-call"},We=ze(function(){return(0,r._)("i",{class:"fas fa-phone"},null,-1)}),Je=ze(function(){return(0,r._)("i",{class:"fas fa-circle-plus"},null,-1)}),Ke=ze(function(){return(0,r._)("div",{class:"section-header"},"Tickets",-1)}),Qe={key:0,class:"ticket-list"},Ye=["onClick"],Xe={class:"ticket-avatar"},nt={class:"ticket-details"},et={class:"ticket-title"},tt={class:"ticket-subject"},ot={class:"ticket-meta"},rt={class:"ticket-right"},at={key:1,class:"no-tickets"},ct=[ze(function(){return(0,r._)("i",{class:"fas fa-ticket-alt"},null,-1)}),ze(function(){return(0,r._)("p",null,"No tickets found for this caller.",-1)})],it={class:"bottom-bar"},lt=ze(function(){return(0,r._)("img",{class:"icon",src:Re(),alt:"Freshdesk"},null,-1)}),st={class:"create-contact-container"},ut={class:"contact-card"},dt=(0,r._)("h3",{class:"form-title"},"Create Contact",-1),ft={class:"input-with-icon"},pt=(0,r._)("i",{class:"fa-solid fa-user"},null,-1),mt={class:"button-row"},gt=["disabled"];function vt(n){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vt(n)}function _t(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function bt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(t),!0).forEach(function(e){ht(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function ht(n,e,t){return(e=function(n){var e=function(n){if("object"!=vt(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=vt(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==vt(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var yt={name:"CreateContact",data:function(){return{form:{email:"",name:"",create_contact_phone_number:"",checked:[]},show:!0,buttonStatus:!0}},mounted:function(){this.create_contact_phone_number&&(this.form.create_contact_phone_number=this.create_contact_phone_number)},computed:bt(bt(bt({},(0,c.Se)(["create_contact_phone_number"])),(0,c.Se)(["page_route"])),{},{nameValidation:function(){return this.form.name.length>2&&this.form.name.length<30},phoneNumberValidation:function(){return/^[0-9+\-()\s]*$/.test(this.form.create_contact_phone_number)&&this.form.create_contact_phone_number.length>9&&this.form.create_contact_phone_number.length<16},emailValidation:function(){return/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(this.form.email)},saveContactValidation:function(){return!1!==this.phoneNumberValidation&&!1!==this.nameValidation&&!1!==this.emailValidation}}),methods:{onSubmit:function(n){n.preventDefault(),alert(JSON.stringify(this.form))},onReset:function(n){var e=this;n.preventDefault(),this.form.email="",this.form.name="",this.form.phoneNumber="",this.form.checked=[],this.show=!1,this.$nextTick(function(){e.show=!0}),store.dispatch("common/updatePageRoute","home")},saveContact:function(){var n=this;if(console.log(this.create_contact_phone_number),this.saveContactValidation){var e=window.client,t={name:this.form.name,phone:this.form.create_contact_phone_number,email:this.form.email};e.request.invokeTemplate("add_contact",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(" Contact created successfully:",e.response),n.$store.dispatch("common/updatePageRoute","home")}).catch(function(n){console.error(" Error creating contact:",n)})}else console.log("Invalid form details")},cancel:function(){console.log("cancel notes clicked"),this.$store.dispatch("common/updatePageRoute","home")}}},wt=t(5535);se()(wt.Z,{insert:"head",singleton:!1}),wt.Z.locals;var kt=(0,de.Z)(yt,[["render",function(n,e,t,o,a,c){var i=(0,r.up)("b-form-input"),l=(0,r.up)("b-form-group"),s=(0,r.up)("b-form");return(0,r.wg)(),(0,r.iD)("div",st,[(0,r._)("div",ut,[dt,a.show?((0,r.wg)(),(0,r.j4)(s,{key:0,onSubmit:c.onSubmit,onReset:c.onReset},{default:(0,r.w5)(function(){return[(0,r.Wm)(l,{label:"Name","label-for":"name"},{default:(0,r.w5)(function(){return[(0,r._)("div",ft,[(0,r.Wm)(i,{id:"name",modelValue:a.form.name,"onUpdate:modelValue":e[0]||(e[0]=function(n){return a.form.name=n}),placeholder:"Enter name",state:c.nameValidation},null,8,["modelValue","state"]),pt])]}),_:1}),(0,r.Wm)(l,{label:"Mobile","label-for":"mobile"},{default:(0,r.w5)(function(){return[(0,r.Wm)(i,{id:"mobile",modelValue:a.form.create_contact_phone_number,"onUpdate:modelValue":e[1]||(e[1]=function(n){return a.form.create_contact_phone_number=n}),placeholder:"Mobile Number",state:c.phoneNumberValidation},null,8,["modelValue","state"])]}),_:1}),(0,r.Wm)(l,{label:"Email Address","label-for":"email"},{default:(0,r.w5)(function(){return[(0,r.Wm)(i,{id:"email",modelValue:a.form.email,"onUpdate:modelValue":e[2]||(e[2]=function(n){return a.form.email=n}),type:"email",placeholder:"Email",state:c.emailValidation},null,8,["modelValue","state"]),(0,r.kq)(" :class=\"{ 'optional-yellow': !form.email }\" ")]}),_:1}),(0,r._)("div",mt,[(0,r._)("button",{type:"button",class:"btn-save",onClick:e[3]||(e[3]=function(n){return c.saveContact()}),disabled:!c.saveContactValidation}," Add ",8,gt),(0,r._)("button",{type:"button",class:"btn-cancel",onClick:e[4]||(e[4]=function(n){return c.cancel()})}," Cancel ")])]}),_:1},8,["onSubmit","onReset"])):(0,r.kq)("v-if",!0)])])}]]),Ct=t(57810),Tt=t(23636),St=function(n){return(0,r.dD)("data-v-637f0cdb"),n=n(),(0,r.Cn)(),n},Ot={class:"create-ticket-wrapper"},Et={class:"header"},xt=St(function(){return(0,r._)("h3",null,"Create New Ticket",-1)}),Nt={class:"form-group"},It=["value"],At={class:"form-group"},jt=St(function(){return(0,r._)("label",{for:"statusSelect"},"Status",-1)}),Dt=[St(function(){return(0,r._)("option",{value:"2"},"Open",-1)}),St(function(){return(0,r._)("option",{value:"3"},"Pending",-1)}),St(function(){return(0,r._)("option",{value:"4"},"Resolved",-1)}),St(function(){return(0,r._)("option",{value:"5"},"Closed",-1)})],Pt={class:"form-group"},Lt=St(function(){return(0,r._)("label",{for:"prioritySelect"},"Priority",-1)}),Rt=[St(function(){return(0,r._)("option",{value:"1"},"Low",-1)}),St(function(){return(0,r._)("option",{value:"2"},"Medium",-1)}),St(function(){return(0,r._)("option",{value:"3"},"High",-1)}),St(function(){return(0,r._)("option",{value:"4"},"Urgent",-1)})],zt={class:"form-group"},Gt=["value"],Ft=["disabled"],Ut=["disabled"],Ht={key:0,class:"success-message"},Mt={key:1,class:"error-message"};function Vt(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return qt(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(qt(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,qt(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,qt(d,"constructor",s),qt(s,"constructor",l),l.displayName="GeneratorFunction",qt(s,r,"GeneratorFunction"),qt(d),qt(d,r,"Generator"),qt(d,o,function(){return this}),qt(d,"toString",function(){return"[object Generator]"}),(Vt=function(){return{w:a,m:f}})()}function qt(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}qt=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){qt(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},qt(n,e,t,o)}function Zt(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}var $t={data:function(){return{subject:"",description:"",priority:"1",status:"2",loading:!1,message:"",error:""}},methods:{onSubjectInput:function(n){this.subject=n.target.value},onDescriptionInput:function(n){this.description=n.target.value},closeForm:function(){this.$store.commit("common/SET_PAGE_ROUTE","call")},submitTicket:function(){var n,e=this;return(n=Vt().m(function n(){var t,o;return Vt().w(function(n){for(;;)switch(n.p=n.n){case 0:if(e.subject.trim()){n.n=1;break}return e.error="Subject is required.",n.a(2);case 1:if(e.description.trim()){n.n=2;break}return e.error="Description is required.",n.a(2);case 2:return e.loading=!0,e.message="",e.error="",n.p=3,t={subject:e.subject,description:e.description,priority:Number(e.priority),status:Number(e.status)},n.n=4,Wn(client,t);case 4:e.message="Ticket created successfully!",e.closeForm(),e.subject="",e.description="",e.priority="1",e.status="2",n.n=6;break;case 5:n.p=5,o=n.v,e.error="Failed to create ticket.",console.error(o);case 6:return n.p=6,e.loading=!1,n.f(6);case 7:return n.a(2)}},n,null,[[3,5,6,7]])}),function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){Zt(a,o,r,c,i,"next",n)}function i(n){Zt(a,o,r,c,i,"throw",n)}c(void 0)})})()}}},Bt=t(54201);se()(Bt.Z,{insert:"head",singleton:!1}),Bt.Z.locals;const Wt=(0,de.Z)($t,[["render",function(n,e,t,a,c,l){return(0,r.wg)(),(0,r.iD)("div",Ot,[(0,r.kq)(" Header with close "),(0,r._)("div",Et,[xt,(0,r._)("button",{class:"close-btn",onClick:e[0]||(e[0]=function(){return l.closeForm&&l.closeForm.apply(l,arguments)})},"×")]),(0,r._)("div",Nt,[(0,r._)("input",{type:"text",value:c.subject,onInput:e[1]||(e[1]=function(){return l.onSubjectInput&&l.onSubjectInput.apply(l,arguments)}),placeholder:"Enter ticket subject",class:"native-input"},null,40,It)]),(0,r._)("div",At,[jt,(0,r.wy)((0,r._)("select",{id:"statusSelect","onUpdate:modelValue":e[2]||(e[2]=function(n){return c.status=n}),class:"native-select"},Dt,512),[[o.bM,c.status]])]),(0,r._)("div",Pt,[Lt,(0,r.wy)((0,r._)("select",{id:"prioritySelect","onUpdate:modelValue":e[3]||(e[3]=function(n){return c.priority=n}),class:"native-select"},Rt,512),[[o.bM,c.priority]])]),(0,r._)("div",zt,[(0,r._)("textarea",{value:c.description,onInput:e[4]||(e[4]=function(){return l.onDescriptionInput&&l.onDescriptionInput.apply(l,arguments)}),placeholder:"Describe the issue",class:"native-textarea"},null,40,Gt)]),(0,r._)("button",{onClick:e[5]||(e[5]=function(){return l.closeForm&&l.closeForm.apply(l,arguments)}),disabled:c.loading,class:"native-btn-cancel"}," Cancel ",8,Ft),(0,r._)("button",{onClick:e[6]||(e[6]=function(){return l.submitTicket&&l.submitTicket.apply(l,arguments)}),disabled:c.loading,class:"native-btn"}," Create Ticket ",8,Ut),c.message?((0,r.wg)(),(0,r.iD)("p",Ht,(0,i.zw)(c.message),1)):(0,r.kq)("v-if",!0),c.error?((0,r.wg)(),(0,r.iD)("p",Mt,(0,i.zw)(c.error),1)):(0,r.kq)("v-if",!0)])}],["__scopeId","data-v-637f0cdb"]]);var Jt=Wt,Kt={class:"create-note-container"},Qt={class:"note-header"},Yt={class:"note-ticket-info"},Xt={class:"ticket-meta"},no={class:"note-footer"},eo={class:"checkbox-label"},to=function(n){return(0,r.dD)("data-v-e643704c"),n=n(),(0,r.Cn)(),n}(function(){return(0,r._)("span",null,"Private Note",-1)});function oo(n){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oo(n)}function ro(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function ao(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ro(Object(t),!0).forEach(function(e){co(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ro(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function co(n,e,t){return(e=function(n){var e=function(n){if("object"!=oo(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=oo(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==oo(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function io(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return lo(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(lo(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,lo(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,lo(d,"constructor",s),lo(s,"constructor",l),l.displayName="GeneratorFunction",lo(s,r,"GeneratorFunction"),lo(d),lo(d,r,"Generator"),lo(d,o,function(){return this}),lo(d,"toString",function(){return"[object Generator]"}),(io=function(){return{w:a,m:f}})()}function lo(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}lo=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){lo(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},lo(n,e,t,o)}function so(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function uo(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){so(a,o,r,c,i,"next",n)}function i(n){so(a,o,r,c,i,"throw",n)}c(void 0)})}}t(69826);var fo={data:function(){var n=this.$store.getters.ticket_id;return{tickets:[],activeTicket:null,noteContent:"",isPrivate:!1,showNoteUI:!1,ticketData:n,createdAtDate:new Date(n.created_at),statusMap:{2:"Open",3:"Pending",4:"Resolved",5:"Closed"}}},mounted:function(){var n=this;return uo(io().m(function e(){return io().w(function(e){for(;;)switch(e.n){case 0:console.log("mounted addnotes"),console.log(JSON.stringify(n.ticketData)),console.log(n.ticketData.created_at);case 1:return e.a(2)}},e)}))()},computed:ao(ao({},(0,c.Se)(["page_route"])),{},{ticketStatus:function(){return this.statusMap[this.ticketData.status]||"Unknown"}}),methods:{setNotes:function(n){var e=this.tickets.find(function(e){return e.id===n});e&&(this.activeTicket=e,this.noteContent="",this.isPrivate=!1,this.showNoteUI=!0)},closeNoteUI:function(){this.$store.commit("common/SET_PAGE_ROUTE","call")},saveNote:function(){var n=this;return uo(io().m(function e(){return io().w(function(e){for(;;)switch(e.n){case 0:if(console.log("Private?",n.isPrivate),console.log("data",n.ticketData),Kn(client,n.ticketData.id,n.noteContent,n.isPrivate),n.noteContent.trim()){e.n=1;break}return alert("Please enter a note before saving."),e.a(2);case 1:n.closeNoteUI();case 2:return e.a(2)}},e)}))()}}},po=t(1e4);se()(po.Z,{insert:"head",singleton:!1}),po.Z.locals;const mo=(0,de.Z)(fo,[["render",function(n,e,t,a,c,l){return(0,r.wg)(),(0,r.iD)("div",Kt,[(0,r.kq)(" Header "),(0,r._)("div",Qt,[(0,r._)("h3",null,"Add Note to Ticket -"+(0,i.zw)(c.ticketData.id),1),(0,r._)("button",{class:"close-btn",onClick:e[0]||(e[0]=function(){return l.closeNoteUI&&l.closeNoteUI.apply(l,arguments)})},"×")]),(0,r.kq)(" Ticket Info "),(0,r._)("div",Yt,[(0,r._)("strong",null,(0,i.zw)(c.ticketData.subject),1),(0,r._)("span",Xt," 🕒 "+(0,i.zw)(c.createdAtDate.toLocaleString())+" • 📌 "+(0,i.zw)(l.ticketStatus),1)]),(0,r.kq)(" Textarea "),(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=function(n){return c.noteContent=n}),class:"note-textarea",placeholder:"✍️ Write your note here..."},null,512),[[o.nr,c.noteContent]]),(0,r.kq)(" Footer "),(0,r._)("div",no,[(0,r._)("label",eo,[(0,r.wy)((0,r._)("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=function(n){return c.isPrivate=n})},null,512),[[o.e8,c.isPrivate]]),to]),(0,r._)("button",{class:"add-note-btn",onClick:e[3]||(e[3]=function(){return l.saveNote&&l.saveNote.apply(l,arguments)})}," ➕ Add Note ")])])}],["__scopeId","data-v-e643704c"]]);var go=mo,vo=t(59417);function _o(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return bo(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(bo(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,bo(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,bo(d,"constructor",s),bo(s,"constructor",l),l.displayName="GeneratorFunction",bo(s,r,"GeneratorFunction"),bo(d),bo(d,r,"Generator"),bo(d,o,function(){return this}),bo(d,"toString",function(){return"[object Generator]"}),(_o=function(){return{w:a,m:f}})()}function bo(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}bo=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){bo(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},bo(n,e,t,o)}function ho(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function yo(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){ho(a,o,r,c,i,"next",n)}function i(n){ho(a,o,r,c,i,"throw",n)}c(void 0)})}}Tt.vI.add(vo.ILF,vo.IB,vo.EQ8);var wo={name:"ListTickets",components:{FontAwesomeIcon:Ct.GN,CreateTicket:Jt,HomePage:Pe,AddNotes:go},data:function(){var n,e,t=this.$store.state.call.current_call||{},o="inbound"==(null==t?void 0:t.direction);console.log("callState in CallConnected:",t);var r=o?null==t||null===(n=t.caller)||void 0===n?void 0:n.phoneNumber:null==t||null===(e=t.callee)||void 0===e?void 0:e.phoneNumber;return console.log("Phone Number from Call State:",r),{CreateContact:!1,caller_name:"",caller_number:r||"",call_state:"ONGOING CALL",tickets:[],response:null}},mounted:function(){var n=this;return yo(_o().m(function e(){var t,o,r,a,c,i,l,s,u,d,f,p,m;return _o().w(function(e){for(;;)switch(e.n){case 0:return u=function(n){return n?n.startsWith("+")?n.substring(1):n:""},r=n.$store.state.call.current_call||{},a="inbound"==(null==r?void 0:r.direction),console.log("callState in CallConnected:",r),c=a?null==r||null===(t=r.caller)||void 0===t?void 0:t.phoneNumber:null==r||null===(o=r.callee)||void 0===o?void 0:o.phoneNumber,console.log("Phone Number from Call State:",c),e.n=1,window.client.request.invokeTemplate("search_user_by_phone",{context:{phone_number:c}});case 1:return i=e.v,console.log("User fetched by phone:",JSON.parse(i.response)),l=JSON.parse(i.response)||[],s=l.length>0?l[0].first_name:null,console.log("Name fetched by phone:",s),n.caller_name=s||"Unknown Caller",e.n=2,window.client.request.invoke("getAccountId",{});case 2:return d=e.v,f=JSON.parse(d.message),console.log("Account ID:",f.account_id),n.$store.dispatch("common/getAccountId"),p=u(n.caller_number),console.log("listticket ....",p,n.caller_name),e.n=3,Hn(client,p,n.caller_name);case 3:return n.response=e.v,e.n=4,Fn(client,p);case 4:m=e.v,console.log("tickets fetched",m),console.log("Freshdesk tickets:",n.response),n.tickets=n.response.tickets,console.log("tickets array",n.tickets);case 5:return e.a(2)}},e)}))()},methods:{goToFreshdesk:function(){var n=this;return yo(_o().m(function e(){var t,o,r,a,c,i,l;return _o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,client.data.get("domainName");case 1:return o=e.v,console.log("All data:",o),console.log("Domain Name:",o.domainName),e.n=2,client.iparams.get();case 2:return(r=e.v).crm_domain,a=(null===(t=n.$store.getters)||void 0===t||null===(t=t.crm_contact_id)||void 0===t||null===(t=t.contact)||void 0===t?void 0:t.id)||" ",console.log("contactId:",a),c=n.$store.getters.contact_id,r.d_domain,console.log("Freshdesk tickets:",n.response),e.n=3,client.instance.context();case 3:i=e.v,console.log("Current location:jh",i.location),l=i.location,console.log("location",l),console.log("Opening Freshdesk in current tab"),window.client.interface.trigger("click",{id:"contact",value:c||a});case 4:return e.a(2)}},e)}))()},goToFreshchat:function(){var n=this;return yo(_o().m(function e(){var t,o,r,a,c,i,l,s,u;return _o().w(function(e){for(;;)switch(e.n){case 0:return a=null===(t=client.context)||void 0===t?void 0:t.productContext.url,console.log("this is Domainnnn",a),c=null===(o=n.$store.getters)||void 0===o?void 0:o.account_id,console.log("Account ID:",c),e.n=1,client.iparams.get();case 1:return i=e.v,l=null===(r=n.$store.getters)||void 0===r?void 0:r.conversation_internal_id,console.log("conversationId:",l),s="https://".concat(i.crm_domain,"/crm/messaging/a/").concat(c,"/inbox/open/0/conversation/").concat(l),console.log("Freshworks domm",s),e.n=2,client.instance.context();case 2:if(u=e.v,console.log("Current location:jh",u.location),u.location,console.log("else tab"),l){e.n=3;break}return console.log("new tab open"),window.open("https://".concat(i.crm_domain,"/crm/messaging/a/").concat(c,"/inbox")),e.a(2);case 3:console.log("Opening Freshchat in new tab"),window.open(s);case 4:return e.a(2)}},e)}))()},addContact:function(){console.log("Add Contact clicked"),this.$store.commit("common/SET_PAGE_ROUTE","add-contact")},createTicket:function(){var n=this;console.log("commited"),setTimeout(function(){n.$store.commit("common/SET_PAGE_ROUTE","ticket")},0)},openTicket:function(n){return yo(_o().m(function e(){var t,o,r;return _o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,client.iparams.get();case 1:return t=e.v,o=t.d_domain,e.n=2,client.instance.context();case 2:r=e.v,console.log("Current location:jh",r.location),"left_nav_cti"!==r.location?(console.log("Opening Freshdesk in current tab"),client.interface.trigger("click",{id:"ticket",value:n})):(console.log("Opening Freshdesk in new tab"),window.open("https://".concat(o,"/a/tickets/").concat(n)));case 3:return e.a(2)}},e)}))()},setNotes:function(n){console.log("Add notes to ticket:",JSON.stringify(n)),this.$store.commit("common/SET_TICKET_ID",n),console.log("ticketid",n.id),this.$store.commit("common/SET_PAGE_ROUTE","note")},shortenSubject:function(n){return n.length>60?n.slice(0,57)+"...":n},mapTicketStatus:function(n){switch(n){case 2:return{status:"Open",color:"green",iconColor:"#28a745",className:"open"};case 3:return{status:"Pending",color:"yellow",iconColor:"#f0ad4e",className:"pending"};case 4:return{status:"Resolved",color:"blue",iconColor:"#17a2b8",className:"resolved"};case 5:return{status:"Closed",color:"red",iconColor:"#dc3545",className:"closed"};default:return{status:"Unknown",color:"gray",iconColor:"#6c757d",className:""}}}}},ko=t(27174);se()(ko.Z,{insert:"head",singleton:!1}),ko.Z.locals;const Co=(0,de.Z)(wo,[["render",function(n,e,t,a,c,l){var s=(0,r.up)("font-awesome-icon"),u=(0,r.up)("fw-button");return(0,r.wg)(),(0,r.iD)("div",Ge,[(0,r.kq)(" Caller Info Card "),(0,r._)("div",Fe,[(0,r._)("div",Ue,[He,(0,r._)("div",null,[(0,r._)("div",Me,(0,i.zw)(c.caller_name||"Unknown Caller"),1),(0,r._)("div",Ve,(0,i.zw)(c.caller_number||"N/A"),1)]),(0,r.kq)(" Corrected Add Contact button logic "),"Unknown Caller"===c.caller_name?((0,r.wg)(),(0,r.iD)("div",qe,[(0,r._)("button",{class:"add-contact-btn",onClick:e[0]||(e[0]=function(){return l.addContact&&l.addContact.apply(l,arguments)})},Ze)])):(0,r.kq)("v-if",!0)]),(0,r._)("div",$e,[(0,r._)("span",Be,[We,(0,r.Uk)(" "+(0,i.zw)(c.call_state||"In Call"),1)])]),(0,r._)("button",{class:"button",onClick:e[1]||(e[1]=function(){return l.createTicket&&l.createTicket.apply(l,arguments)})},[Je,(0,r.Uk)(" New Ticket ")])]),(0,r.kq)(" Tickets "),Ke,c.tickets&&c.tickets.length?((0,r.wg)(),(0,r.iD)("div",Qe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.tickets,function(n){return(0,r.wg)(),(0,r.iD)("div",{key:n.id,class:"ticket-item",onClick:function(e){return l.openTicket(n.id)}},[(0,r.kq)(" Left: Ticket Avatar "),(0,r._)("div",Xe,(0,i.zw)(n.id),1),(0,r.kq)(" Middle: Ticket Details "),(0,r._)("div",nt,[(0,r._)("div",et,[(0,r._)("span",tt,(0,i.zw)(l.shortenSubject(n.subject)),1),(0,r._)("span",{class:(0,i.C_)(["status-badge",l.mapTicketStatus(n.status).className])},(0,i.zw)(l.mapTicketStatus(n.status).status),3)]),(0,r._)("div",ot,[(0,r.Wm)(s,{icon:["fas","user"]}),(0,r._)("span",null,(0,i.zw)(n.requester||"Unknown"),1),(0,r._)("span",null,"• Created "+(0,i.zw)(n.createdAt||"N/A"),1)])]),(0,r.kq)(" Right: Add Note "),(0,r._)("div",rt,[(0,r.Wm)(u,{size:"small",color:"secondary",onClick:(0,o.iM)(function(e){return l.setNotes(n)},["stop"])},{default:(0,r.w5)(function(){return[(0,r.Uk)(" + Note ")]}),_:2},1032,["onClick"])])],8,Ye)}),128))])):((0,r.wg)(),(0,r.iD)("div",at,ct)),(0,r.kq)(" Bottom Bar "),(0,r._)("div",it,[(0,r._)("button",{class:"switch-btn",onClick:e[2]||(e[2]=function(e){return l.goToFreshdesk(n.ticket)})},[lt,(0,r.Uk)(" View Contact ")]),(0,r.kq)(' <button class="switch-btn" @click="goToFreshchat">\n        <img class="icon" src="../assets/cnv.png" alt="Freshchat" />\n        View conversation\n      </button> ')])])}],["__scopeId","data-v-7576720a"]]);var To=Co,So={class:"avatar"},Oo={class:"caller-info"},Eo={class:"name"},xo={class:"number"},No={name:"IncomingCallBanner",data:function(){var n=this.$store.getters.current_call||{};console.log("IncomingCallBanner call data:",n);var e=this.$store.getters.contact_name;console.log("IncomingCallBanner contact data:",e);var t=n.caller.phoneNumber.replace("+","");return{callee_name:e||t||"Unknown",callee_number:n.caller.phoneNumber||"",zoomUrl:n.zoomUrl||"",showCall:!0,hue:200,gradientColor:""}},computed:{avatarLetter:function(){return this.callee_name.charAt(0).toUpperCase()}},mounted:function(){this.vibrate(),this.startGlitterAnimation()},methods:{vibrate:function(){"vibrate"in navigator&&navigator.vibrate([600,300,600,300,600])},startGlitterAnimation:function(){var n=this,e=1,t=function(){n.hue+=.7*e,(n.hue>=235||n.hue<=185)&&(e*=-1),n.gradientColor="linear-gradient(135deg, #f0f9ff, #cfeaff)",requestAnimationFrame(t)};t()},acceptAndRedirect:function(){this.$emit("accept"),this.zoomUrl&&(window.location.href=this.zoomUrl)}}},Io=t(10755);se()(Io.Z,{insert:"head",singleton:!1}),Io.Z.locals;const Ao=(0,de.Z)(No,[["render",function(n,e,t,a,c,l){var s=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.j4)(o.uT,{name:"fade"},{default:(0,r.w5)(function(){return[c.showCall?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"incoming-call-banner",onClick:e[0]||(e[0]=function(){return l.acceptAndRedirect&&l.acceptAndRedirect.apply(l,arguments)}),style:(0,i.j5)({background:c.gradientColor})},[(0,r._)("div",So,(0,i.zw)(l.avatarLetter),1),(0,r._)("div",Oo,[(0,r._)("span",Eo,(0,i.zw)(c.callee_name),1),(0,r._)("span",xo,(0,i.zw)(c.callee_number),1)]),(0,r.Wm)(s,{icon:"phone",class:"ring-icon"})],4)):(0,r.kq)("v-if",!0)]}),_:1})}],["__scopeId","data-v-49c9c3d5"]]);var jo=Ao,Do={class:"create-contact-container"},Po={class:"contact-card"},Lo=(0,r._)("h3",{class:"form-title"},"Create Contact",-1),Ro={class:"input-with-icon"},zo=(0,r._)("i",{class:"fa-solid fa-user"},null,-1),Go={class:"button-row"},Fo=["disabled"];function Uo(n){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Uo(n)}function Ho(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function Mo(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ho(Object(t),!0).forEach(function(e){Vo(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ho(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function Vo(n,e,t){return(e=function(n){var e=function(n){if("object"!=Uo(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=Uo(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Uo(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var qo={name:"AddContact",data:function(){return{form:{email:"",name:"",create_contact_phone_number:"",checked:[]},show:!0,buttonStatus:!0}},mounted:function(){this.create_contact_phone_number&&(this.form.create_contact_phone_number=this.create_contact_phone_number)},computed:Mo(Mo(Mo({},(0,c.Se)(["create_contact_phone_number"])),(0,c.Se)(["page_route"])),{},{nameValidation:function(){return this.form.name.length>2&&this.form.name.length<30},phoneNumberValidation:function(){return/^[0-9+\-()\s]*$/.test(this.form.create_contact_phone_number)&&this.form.create_contact_phone_number.length>9&&this.form.create_contact_phone_number.length<16},emailValidation:function(){return/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(this.form.email)},saveContactValidation:function(){return!1!==this.phoneNumberValidation&&!1!==this.nameValidation&&!1!==this.emailValidation}}),methods:{onSubmit:function(n){n.preventDefault(),alert(JSON.stringify(this.form))},onReset:function(n){var e=this;n.preventDefault(),this.form.email="",this.form.name="",this.form.phoneNumber="",this.form.checked=[],this.show=!1,this.$nextTick(function(){e.show=!0}),store.dispatch("common/updatePageRoute","home")},saveContact:function(){var n=this;if(console.log(this.create_contact_phone_number),this.saveContactValidation){var e=window.client,t={name:this.form.name,phone:this.form.create_contact_phone_number,email:this.form.email};e.request.invokeTemplate("add_contact",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(" Contact created successfully:",e.response),n.$store.dispatch("common/updatePageRoute","call")}).catch(function(n){console.error(" Error creating contact:",n)})}else console.log("Invalid form details")},cancel:function(){console.log("cancel notes clicked"),this.$store.dispatch("common/updatePageRoute","call")}}},Zo=t(85994);se()(Zo.Z,{insert:"head",singleton:!1}),Zo.Z.locals;var $o=(0,de.Z)(qo,[["render",function(n,e,t,o,a,c){var i=(0,r.up)("b-form-input"),l=(0,r.up)("b-form-group"),s=(0,r.up)("b-form");return(0,r.wg)(),(0,r.iD)("div",Do,[(0,r._)("div",Po,[Lo,a.show?((0,r.wg)(),(0,r.j4)(s,{key:0,onSubmit:c.onSubmit,onReset:c.onReset},{default:(0,r.w5)(function(){return[(0,r.Wm)(l,{label:"Name","label-for":"name"},{default:(0,r.w5)(function(){return[(0,r._)("div",Ro,[(0,r.Wm)(i,{id:"name",modelValue:a.form.name,"onUpdate:modelValue":e[0]||(e[0]=function(n){return a.form.name=n}),placeholder:"Enter name",state:c.nameValidation},null,8,["modelValue","state"]),zo])]}),_:1}),(0,r.Wm)(l,{label:"Mobile","label-for":"mobile"},{default:(0,r.w5)(function(){return[(0,r.Wm)(i,{id:"mobile",modelValue:a.form.create_contact_phone_number,"onUpdate:modelValue":e[1]||(e[1]=function(n){return a.form.create_contact_phone_number=n}),placeholder:"Mobile Number",state:c.phoneNumberValidation},null,8,["modelValue","state"])]}),_:1}),(0,r.Wm)(l,{label:"Email Address","label-for":"email"},{default:(0,r.w5)(function(){return[(0,r.Wm)(i,{id:"email",modelValue:a.form.email,"onUpdate:modelValue":e[2]||(e[2]=function(n){return a.form.email=n}),type:"email",placeholder:"Email",state:c.emailValidation},null,8,["modelValue","state"]),(0,r.kq)(" :class=\"{ 'optional-yellow': !form.email }\" ")]}),_:1}),(0,r._)("div",Go,[(0,r._)("button",{type:"button",class:"btn-save",onClick:e[3]||(e[3]=function(n){return c.saveContact()}),disabled:!c.saveContactValidation}," Add ",8,Fo),(0,r._)("button",{type:"button",class:"btn-cancel",onClick:e[4]||(e[4]=function(n){return c.cancel()})}," Cancel ")])]}),_:1},8,["onSubmit","onReset"])):(0,r.kq)("v-if",!0)])])}]]),Bo=t(23097),Wo=t.n(Bo),Jo=t(87744),Ko=t.n(Jo),Qo=function(n){return(0,r.dD)("data-v-15b1c2ea"),n=n(),(0,r.Cn)(),n},Yo={class:"call-ui-container"},Xo={class:"zoom-card"},nr={class:"zoom-card__header"},er=Qo(function(){return(0,r._)("div",{class:"avatar"},[(0,r._)("i",{class:"fas fa-user"})],-1)}),tr={class:"caller-name"},or={class:"caller-number"},rr={class:"zoom-card__details"},ar={class:"call-state in-call"},cr=Qo(function(){return(0,r._)("i",{class:"fas fa-phone"},null,-1)}),ir=Qo(function(){return(0,r._)("div",{class:"section-header"},"Call Notes",-1)}),lr={class:"notes-section"},sr=Qo(function(){return(0,r._)("i",{class:"fas fa-save"},null,-1)}),ur={key:0,class:"fas fa-check-circle"},dr={key:1,class:"fas fa-exclamation-circle"},fr={class:"bottom-bar"},pr=Qo(function(){return(0,r._)("img",{class:"icon",src:Wo(),alt:"Freshsales"},null,-1)}),mr=Qo(function(){return(0,r._)("img",{class:"icon",src:Ko(),alt:"Freshchat"},null,-1)});function gr(n){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gr(n)}function vr(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return _r(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(_r(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,_r(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,_r(d,"constructor",s),_r(s,"constructor",l),l.displayName="GeneratorFunction",_r(s,r,"GeneratorFunction"),_r(d),_r(d,r,"Generator"),_r(d,o,function(){return this}),_r(d,"toString",function(){return"[object Generator]"}),(vr=function(){return{w:a,m:f}})()}function _r(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}_r=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){_r(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},_r(n,e,t,o)}function br(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function hr(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){br(a,o,r,c,i,"next",n)}function i(n){br(a,o,r,c,i,"throw",n)}c(void 0)})}}Tt.vI.add(vo.ILF,vo.j1w,vo.r6l);var yr={name:"CallConnected",components:{FontAwesomeIcon:Ct.GN},data:function(){var n=this.$store.getters.contact_name;console.log("Contact Name from Store:",n);var e=this.$store.state.call.current_call||{};console.log("callState in CallConnected:",e);var t="inbound"==e.direction,o=(t?e.caller.name:e.callee.name,t?e.caller.phoneNumber:e.callee.phoneNumber),r=o.replace("+","");return{caller_name:n||r||"UK",caller_number:o||"",call_state:"ONGOING CALL",callNotes:"",showNotesPopup:!1,popupType:"success"}},mounted:function(){var n=this;return hr(vr().m(function e(){var t,o,r;return vr().w(function(e){for(;;)switch(e.n){case 0:return t=n.$store.state.call.current_call||{},console.log("callState in CallConnected:",t),console.log("CallConnected component mounted."),e.n=1,window.client.request.invoke("getAccountId",{});case 1:o=e.v,r=JSON.parse(o.message),console.log("Account ID:",r.account_id),n.$store.dispatch("common/getAccountId");case 2:return e.a(2)}},e)}))()},methods:{goToFreshsales:function(){var n=this;return hr(vr().m(function e(){var t,o,r,a,c;return vr().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,client.iparams.get();case 1:return o=e.v,r=o.crm_domain,a=null===(t=n.$store.getters.crm_contact_id.contact)||void 0===t?void 0:t.id,console.log(gr(a)),e.n=2,client.data.get("currentProduct");case 2:if(c=e.v.currentProduct,console.log("contactId:",a),"freshsales"!==c){e.n=4;break}if(a){e.n=3;break}return console.log("Opening Freshsales in new tab"),window.open("https://".concat(r,"/crm/sales/contacts/")),e.a(2);case 3:window.client.interface.trigger("show",{id:"contact",value:a}),console.log("Show contact   mresult:"),e.n=6;break;case 4:if(a){e.n=5;break}return window.open("https://".concat(r,"/crm/sales/contacts/")),e.a(2);case 5:window.open("https://".concat(r,"/crm/sales/contacts/").concat(a));case 6:return e.a(2)}},e)}))()},goToFreshchat:function(){var n=this;return hr(vr().m(function e(){var t,o,r,a,c,i,l,s,u,d,f,p;return vr().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,window.client.data.get("currentProduct");case 1:return t=e.v,console.log("Testing"),console.log("Current Product:",t),o=t.currentProduct,r=client.context.productContext.url,console.log("this is Domainnnn",r),a=n.$store.getters.account_id,console.log("Account ID:",a),e.n=2,client.iparams.get();case 2:return c=e.v,i=n.$store.getters.conversation_internal_id,console.log("conversationId:",i),l="https://".concat(c.crm_domain,"/crm/messaging/a/").concat(a,"/inbox/open/0/conversation/").concat(i),console.log("Freshworks domm",l),e.n=3,client.instance.context();case 3:if(s=e.v,console.log("Current location:jh",s.location),s.location,"freshchat"!==o){e.n=6;break}if(i){e.n=4;break}return u="https://".concat(c.crm_domain,"/crm/messaging/a/").concat(a,"/inbox"),window.open(u),e.a(2);case 4:return console.log("Triggering Freshchat conversation view"),e.n=5,client.interface.trigger("show",{id:"conversation",value:i});case 5:d=e.v,console.log("Show conversation result:",d),e.n=8;break;case 6:if(i){e.n=7;break}return f="https://".concat(c.crm_domain,"/crm/messaging/a/").concat(a,"/inbox"),window.open(f),e.a(2);case 7:console.log("Opening Freshchat in new tab"),p="https://".concat(c.crm_domain,"/crm/messaging/a/").concat(a,"/inbox/open/0/conversation/").concat(i),window.open(p);case 8:return e.a(2)}},e)}))()},saveNotes:function(){var n=this;return hr(vr().m(function e(){var t;return vr().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n.callNotes.trim()){e.n=1;break}return n.popupMessage="Cannot save empty notes!",n.popupType="error",n.showNotesPopup=!0,setTimeout(function(){return n.showNotesPopup=!1},2e3),e.a(2);case 1:return e.p=1,e.n=2,zn(n.callNotes);case 2:console.log("Call notes saved:",n.callNotes),n.popupMessage="Notes Added!",n.popupType="success",n.showNotesPopup=!0,setTimeout(function(){return n.showNotesPopup=!1},2e3),n.callNotes="",e.n=4;break;case 3:e.p=3,t=e.v,console.error("Error saving notes:",t),n.popupMessage="Error saving notes!",n.popupType="error",n.showNotesPopup=!0,setTimeout(function(){return n.showNotesPopup=!1},2e3);case 4:return e.a(2)}},e,null,[[1,3]])}))()}}},wr=t(11371);se()(wr.Z,{insert:"head",singleton:!1}),wr.Z.locals;const kr=(0,de.Z)(yr,[["render",function(n,e,t,a,c,l){return(0,r.wg)(),(0,r.iD)("div",Yo,[(0,r.kq)(" Caller Info Card "),(0,r._)("div",Xo,[(0,r._)("div",nr,[er,(0,r._)("div",null,[(0,r._)("div",tr,(0,i.zw)(c.caller_name||"Unknown Caller"),1),(0,r._)("div",or,(0,i.zw)(c.caller_number||"N/A"),1)])]),(0,r._)("div",rr,[(0,r._)("span",ar,[cr,(0,r.Uk)(" "+(0,i.zw)(c.call_state||"In Call"),1)])])]),(0,r.kq)(" Notes Section "),ir,(0,r._)("div",lr,[(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":e[0]||(e[0]=function(n){return c.callNotes=n}),placeholder:"Write notes about the call...",class:"notes-textarea"},null,512),[[o.nr,c.callNotes]]),(0,r._)("button",{class:"button save-btn",onClick:e[1]||(e[1]=function(){return l.saveNotes&&l.saveNotes.apply(l,arguments)})},[sr,(0,r.Uk)(" Save Notes ")]),(0,r.kq)(" Notes Added Popup "),c.showNotesPopup?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,i.C_)(["notes-popup",c.popupType])},["success"===c.popupType?((0,r.wg)(),(0,r.iD)("i",ur)):(0,r.kq)("v-if",!0),"error"===c.popupType?((0,r.wg)(),(0,r.iD)("i",dr)):(0,r.kq)("v-if",!0),(0,r.Uk)(" "+(0,i.zw)(n.popupMessage),1)],2)):(0,r.kq)("v-if",!0)]),(0,r.kq)(" Bottom Bar "),(0,r._)("div",fr,[(0,r._)("button",{class:"switch-btn",onClick:e[2]||(e[2]=function(){return l.goToFreshsales&&l.goToFreshsales.apply(l,arguments)})},[pr,(0,r.Uk)(" View Contact ")]),(0,r._)("button",{class:"switch-btn",onClick:e[3]||(e[3]=function(){return l.goToFreshchat&&l.goToFreshchat.apply(l,arguments)})},[mr,(0,r.Uk)(" View Conversation ")])])])}],["__scopeId","data-v-15b1c2ea"]]);function Cr(n){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cr(n)}function Tr(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(t,o,r,a){var l=o&&o.prototype instanceof i?o:i,s=Object.create(l.prototype);return Sr(s,"_invoke",function(t,o,r){var a,i,l,s=0,u=r||[],d=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,i=0,l=n,f.n=t,c}};function p(t,o){for(i=t,l=o,e=0;!d&&s&&!r&&e<u.length;e++){var r,a=u[e],p=f.p,m=a[2];t>3?(r=m===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((r=t<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=t<3||a[0]>o||o>m)&&(a[4]=t,a[5]=o,f.n=m,i=0))}if(r||t>1)return c;throw d=!0,o}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(e=i<2?n:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=n}else if((e=(d=f.n<0)?l:t.call(o,f))!==c)break}catch(e){a=n,i=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,r,a),!0),s}var c={};function i(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][o]?e(e([][o]())):(Sr(e={},o,function(){return this}),e),d=s.prototype=i.prototype=Object.create(u);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,Sr(n,r,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,Sr(d,"constructor",s),Sr(s,"constructor",l),l.displayName="GeneratorFunction",Sr(s,r,"GeneratorFunction"),Sr(d),Sr(d,r,"Generator"),Sr(d,o,function(){return this}),Sr(d,"toString",function(){return"[object Generator]"}),(Tr=function(){return{w:a,m:f}})()}function Sr(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}Sr=function(n,e,t,o){if(e)r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t;else{var a=function(e,t){Sr(n,e,function(n){return this._invoke(e,t,n)})};a("next",0),a("throw",1),a("return",2)}},Sr(n,e,t,o)}function Or(n,e,t,o,r,a,c){try{var i=n[a](c),l=i.value}catch(n){return void t(n)}i.done?e(l):Promise.resolve(l).then(o,r)}function Er(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function c(n){Or(a,o,r,c,i,"next",n)}function i(n){Or(a,o,r,c,i,"throw",n)}c(void 0)})}}function xr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function Nr(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?xr(Object(t),!0).forEach(function(e){Ir(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xr(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function Ir(n,e,t){return(e=function(n){var e=function(n){if("object"!=Cr(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=Cr(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Cr(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Ar={components:{HomePage:Pe,ListTickets:To,IncomingCall:jo,CreateContact:kt,CreateTicket:Jt,AddNotes:go,CrmConnect:kr,AddContact:$o},data:function(){return{showIncomingCall:!1}},computed:Nr({},(0,c.Se)(["page_route","call_logs","recording_url"])),methods:Nr(Nr({},(0,c.OI)(["setContactList"])),{},{simulateIncomingCall:function(){return Er(Tr().m(function n(){var e,t,o,r,a,c,i,l;return Tr().w(function(n){for(;;)switch(n.n){case 0:if(e="6f736101-5752-4d7e-88af-a582391169dc",t="This is a test note from App.vue",null!=(o="")&&""!==o){n.n=2;break}return console.error("Agent ID is missing. Cannot add notes."),n.n=1,window.client.request.invokeTemplate("getAgentsList",{context:{page:1,items_per_page:2,sort_order:"asc"}});case 1:a=n.v,console.log("Agents List Result:",a),c=JSON.parse(a.response),o=null===(r=c.agents)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.id,console.log("Extracted Agent ID:",o);case 2:console.log("Notes saved:",t,o,e),i={agentId:o,notes:t,conversationId:e},l=client.request.invoke("onAddPrivateNotesInFreshchat",i),console.log("Notes API response:",l);case 3:return n.a(2)}},n)}))()},hideCallPopup:function(){this.showIncomingCall=!1},goToCallPage:function(){"function"==typeof window.togglePlatform?window.togglePlatform():console.log("togglePlatform is not available.")}}),mounted:function(){var n=this;return Er(Tr().m(function e(){var t,o,r,a,c,i,l;return Tr().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=function(){var n=window.location.href;console.log("Full URL:",n);var e=new URLSearchParams(window.location.search);console.log("URLSearchParams:",e.toString());var t=e.get("origin");t?console.log("Embedded origin URL:",t):(t=window.location.origin,console.log("Fallback to window.location.origin:",t));var o=t.toLowerCase(),r=n.toLowerCase();return o.includes("freshdesk")||r.includes("freshdesk")?"freshdesk":o.includes("freshsales")||r.includes("freshsales")?"freshsales":o.includes("localhost")||r.includes("localhost")||r.includes("127.0.0.1")?"local":"unknown"},window.addEventListener("storage",function(){var n=JSON.parse(localStorage.getItem("zoom_tab_leader"));n&&n.token!==window.__leaderToken&&(console.log("Switching to  follower mode…"),window.location.reload())}),e.n=1,window.client.request.invoke("fetchCallLogs",{});case 1:return t=e.v,n.$store.commit("callLogs/SET_CALL_LOGS",null===JSON||void 0===JSON?void 0:JSON.parse(t.message)),console.log("call logs from app.vue",t.message),console.log("Detected environment:",o()),"call"===(r=n.$store.getters.page_route)?n.$store.commit("common/SET_PAGE_ROUTE","call"):n.$store.commit("common/SET_PAGE_ROUTE",r),e.n=2,client.db.get("Zoom_BYOT");case 2:a=e.v,console.log("Db channelid",a),n.$store.commit("call/SET_CHANNEL_ID",a.zoomPhoneChannelId),n.$store.dispatch("common/getClientMethods",client),n.$store.dispatch("common/getContactList",""),c=document.getElementById("zoomCCP"),console.log("Zoom iframe:",c),console.log("call logs",n.call_logs),c.contentWindow.postMessage({type:"zp-init-config",data:{enableSavingLog:!0,enableAutoLog:!0,enableContactSearching:!0,enableContactMatching:!0,notePageConfiguration:[{fieldName:"Disposition",fieldType:"select",selectOptions:[{label:"Interested",value:"interested"},{label:"Not Interested",value:"not_interested"},{label:"No Contact",value:"no_contact"}],placeholder:"Select an option"},{fieldName:"Description",fieldType:"text",placeholder:"Enter notes"}]}},"https://applications.zoom.us"),window.addEventListener("message",function(){var e=Er(Tr().m(function e(t){var o,r,a,c,i,l,s,u,d,f,p,m,g,v,_,b,h,y;return Tr().w(function(e){for(;;)switch(e.p=e.n){case 0:if(console.log("EVENTS FROM EVENTLISTNER",t.data),o=t.data||{},"zp-call-ringing-event"!==(r=o.type)){e.n=2;break}return n.$store.commit("call/SET_CONTACT_NAME",""),console.log("Ringing event received","contact name reset",n.$store.getters.contact_name),e.n=1,client.instance.context();case 1:c=e.v,console.log("Current location:jh",c.location),i=c.location,null===(a=t.data)||void 0===a||null===(a=a.data)||void 0===a||a.callId,window.client.interface.trigger("show",{id:"left_nav_cti"!==i?"softphone":"phoneApp"}),console.log("call is ringing"),n.$store.dispatch("call/setCallEndedFlag",!1),"inbound"==t.data.data.direction&&(console.log("inbound call"),n.showIncomingCall=!0),qn(client,t.data),console.log("event data",t.data);case 2:if("zp-call-log-completed-event"===r){null===(l=t.data)||void 0===l||null===(l=l.data)||void 0===l||l.callId;try{qn(client,t.data)}catch(n){console.error("❌ Error in handleRingingEvent:",n)}n.$store.dispatch("call/setCallEndedFlag",!0),n.showIncomingCall=!1}if("zp-call-connected-event"!==r){e.n=7;break}return n.showIncomingCall=!1,e.p=3,e.n=4,window.client.data.get("currentProduct");case 4:s=e.v,console.log("Testing"),console.log("Current Product:",s),u=s.currentProduct,console.log("current product in app.vue",u),"freshsales"===u||"freshchat"===u?n.$store.commit("common/SET_PAGE_ROUTE","crmcall"):n.$store.commit("common/SET_PAGE_ROUTE","call"),e.n=6;break;case 5:e.p=5,e.v,n.$store.commit("common/SET_PAGE_ROUTE","call");case 6:t.data.data.callId,qn(client,t.data);case 7:"zp-call-ended-event"===r&&(console.log("Call ended event received","contact name reset",n.$store.getters.contact_name),null===(d=t.data)||void 0===d||null===(d=d.data)||void 0===d||d.callId,n.showIncomingCall=!1,n.$store.commit("common/SET_PAGE_ROUTE","home"),qn(client,t.data)),"zp-call-recording-completed-event"===r&&(n.showIncomingCall=!1,console.log("Call recording completed:",t.data),t.data.data.callId,qn(client,t.data),console.log("Recording with flag true"),(p=null===(f=t.data)||void 0===f||null===(f=f.data)||void 0===f?void 0:f.recordingUrl)&&(n.$store.dispatch("call/setRecordingUrl",p),console.log("Recording URL stored:",p))),"zp-notes-save-event"===r&&(console.log("Notes event",t.data),_=t.data.data.notesData.Disposition?t.data.data.notesData.Disposition:"no Disposition",b="Disposition: "+_+"\n"+(null===(m=t.data)||void 0===m||null===(m=m.data)||void 0===m?void 0:m.notesData.Description),console.log("Saving call notes:",b),h=n.$store.getters.crm_contact_id.contact.id,console.log("Associated contact ID:",h),null!=(null===(g=t.data)||void 0===g||null===(g=g.data)||void 0===g?void 0:g.notesData.Description)&&""!=(null===(v=t.data)||void 0===v||null===(v=v.data)||void 0===v?void 0:v.notesData.Description)?window.client.request.invoke("saveCallNotes",{notes:b,contactId:h}):console.log("No notes to save.")),"zp-call-voicemail-received-event"===r&&(null===(y=t.data)||void 0===y||null===(y=y.data)||void 0===y||y.callId,qn(client,t.data)),"IST_IFRAME_STOP_NOTIFY"===t.data.iFrameEventType&&console.log("iFrame stopped:",t.data);case 8:return e.a(2)}},e,null,[[3,5]])}));return function(n){return e.apply(this,arguments)}}());try{window.client&&window.client.instance.resize({height:"650px"})}catch(n){console.error("Error initializing app:",n)}return e.p=3,e.n=4,window.client.data.get("currentProduct");case 4:i=e.v,console.log("Testing"),n.$store.commit("common/SET_CURRENT_PRODUCT",i),console.log("Current Product:",i),e.n=6;break;case 5:e.p=5,l=e.v,console.error("Error fetching current product:",l);case 6:return e.a(2)}},e,null,[[3,5]])}))()}},jr=t(79261);se()(jr.Z,{insert:"head",singleton:!1}),jr.Z.locals;var Dr=(0,de.Z)(Ar,[["render",function(n,e,t,o,c,i){var l=(0,r.up)("HomePage"),s=(0,r.up)("ListTickets"),u=(0,r.up)("AddContact"),d=(0,r.up)("CreateContact"),f=(0,r.up)("IncomingCall"),p=(0,r.up)("CrmConnect"),m=(0,r.up)("CreateTicket"),g=(0,r.up)("AddNotes");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r.kq)(" Simulation Buttons "),(0,r.kq)(' <div class="sim-buttons">\n      <button @click="simulateIncomingCall">RINGING</button>\n      <button @click="CONNECTED">CONNECTED</button>\n      <button @click="VOICEMAIL">VOICEMAIL</button>\n      <button @click="TRANSFER">TRANSFER</button>\n      <button @click="RECORDING">RECORDING</button>\n      <button @click="ENDED">ENDED</button>\n      <button @click="CONNECTED">OUTBOUND CONNECTED</button>\n      <button @click="MISSED">MISSED ENDED</button>\n      <button @click="backhome()">notes</button>\n      <button @click="CALLLOG">call log</button>\n    </div>  '),"home"===n.page_route?((0,r.wg)(),(0,r.j4)(l,{key:0})):(0,r.kq)("v-if",!0),"call"==n.page_route?((0,r.wg)(),(0,r.j4)(s,{key:1})):(0,r.kq)("v-if",!0),"add-contact"==n.page_route?((0,r.wg)(),(0,r.j4)(u,{key:2})):(0,r.kq)("v-if",!0),"new-contact"==n.page_route?((0,r.wg)(),(0,r.j4)(d,{key:3})):(0,r.kq)("v-if",!0),"incoming_call"===n.page_route?((0,r.wg)(),(0,r.j4)(f,{key:4})):(0,r.kq)("v-if",!0),(0,r.kq)(" Always render IncomingCall as a floating widget "),c.showIncomingCall?((0,r.wg)(),(0,r.j4)(f,{key:5,onDecline:i.hideCallPopup,onAccept:i.goToCallPage},null,8,["onDecline","onAccept"])):(0,r.kq)("v-if",!0),"crmcall"===n.page_route?((0,r.wg)(),(0,r.j4)(p,{key:6})):(0,r.kq)("v-if",!0),"ticket"===n.page_route?((0,r.wg)(),(0,r.j4)(m,{key:7})):(0,r.kq)("v-if",!0),"note"===n.page_route?((0,r.wg)(),(0,r.j4)(g,{key:8})):(0,r.kq)("v-if",!0)])}]]),Pr=function(n){return(0,r.dD)("data-v-09d0002f"),n=n(),(0,r.Cn)(),n},Lr={class:"wrap"},Rr={class:"box"},zr=Pr(function(){return(0,r._)("h3",null,"Another tab is active",-1)}),Gr=Pr(function(){return(0,r._)("p",{class:"msg"},[(0,r.Uk)(" This app is already open in another browser tab."),(0,r._)("br"),(0,r.Uk)(" If you want, you can switch control to this tab. ")],-1)}),Fr={methods:{forceTakeover:function(){var n=crypto.randomUUID();localStorage.setItem("zoom_tab_leader",JSON.stringify({token:n,lastHeartbeat:0})),window.__forcedLeader=!0,window.location.reload()}}},Ur=t(96887);se()(Ur.Z,{insert:"head",singleton:!1}),Ur.Z.locals;const Hr=(0,de.Z)(Fr,[["render",function(n,e,t,o,a,c){return(0,r.wg)(),(0,r.iD)("div",Lr,[(0,r._)("div",Rr,[zr,Gr,(0,r._)("button",{onClick:e[0]||(e[0]=function(){return c.forceTakeover&&c.forceTakeover.apply(c,arguments)}),class:"btn"}," Make this tab active ")])])}],["__scopeId","data-v-09d0002f"]]);var Mr=Hr,Vr=t(41847),qr=(t(72814),t(85174),t(2722));Tt.vI.add(vo.BC0,vo.j1w,vo.Z__,vo.ILF,vo.FPD,vo.r5q,vo.TX0,vo.FKd,vo.IB,vo.EQ8,vo.hVn,vo.wK3,vo.gf$,vo.FU$,vo.Eo4,vo.v6Q);var Zr="zoom_tab_leader";function $r(n){localStorage.setItem(Zr,JSON.stringify(n))}(0,qr.m)().then(function(){return(0,qr.q)()}),window.frsh_init().then(function(n){window.client=n,window.client.instance.resize({height:"650px"});var e=(0,o.ri)(Dr);e.config.compilerOptions.isCustomElement=function(n){return n.startsWith("fw-")},e.use(z),e.use(Vr.ZP),e.component("font-awesome-icon",Ct.GN),console.log("Vue app initialized with Freshworks client:",window.client),function(){var n=Date.now(),e=function(){try{return JSON.parse(localStorage.getItem(Zr))}catch(n){return null}}();if(!e||n-e.lastHeartbeat>3e3){var t=crypto.randomUUID();return $r({token:t,lastHeartbeat:n}),window.__leaderToken=t,!0}return!1}()?(console.log(" This tab is the LEADER. Mounting app..."),setInterval(function(){$r({token:window.__leaderToken,lastHeartbeat:Date.now()})},1500),e.mount("#app")):(console.log(" This tab is NOT the leader. App will not mount."),(0,o.ri)(Mr).mount("#app"))})},79261:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,"\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  text-align: center;\n  /* color: #2ce50 ; */\n}\nbody::-webkit-scrollbar {\n  display: none;\n}\n\n",""]),e.Z=r},96887:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,"\n.wrap[data-v-09d0002f] {\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #fafafa;\r\n  padding: 15px;\n}\n.box[data-v-09d0002f] {\r\n  background: #fff;\r\n  padding: 22px 25px;\r\n  width: 300px;\r\n  border-radius: 10px;\r\n  border: 1px solid #dcdcdc;\n}\nh3[data-v-09d0002f] {\r\n  margin: 0 0 10px 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #333;\n}\n.msg[data-v-09d0002f] {\r\n  font-size: 14px;\r\n  color: #555;\r\n  line-height: 1.4;\r\n  margin-bottom: 18px;\n}\n.btn[data-v-09d0002f] {\r\n  background: #0a7cff;\r\n  color: #fff;\r\n  border: none;\r\n  padding: 9px 14px;\r\n  font-size: 14px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  transition: background 0.2s;\n}\n.btn[data-v-09d0002f]:hover {\r\n  background: #0568d1;\n}\r\n",""]),e.Z=r},65140:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,"\n.no-contacts-found[data-v-7e1d8208] {\n  text-align: center;\n  margin-top: 20px;\n}\na[data-v-7e1d8208] {\n  color: black;\n  text-decoration: none;\n}\n.contact-search[data-v-7e1d8208] {\n  position: relative;\n}\n.contact-input-search[data-v-7e1d8208] {\n  position: relative;\n  width: 320px;\n  margin-top: 5px;\n  margin-left: 5px;\n}\n#contact-list-rows[data-v-7e1d8208] {\n  text-align: left;\n}\n.contact-name[data-v-7e1d8208] {\n  font-size: medium;\n}\n.contact-number[data-v-7e1d8208] {\n  font-size: small;\n}\n.contact-email[data-v-7e1d8208] {\n  font-size: small;\n}\n.contact-icon[data-v-7e1d8208] {\n  padding-right: 10px;\n  color: #636e72;\n}\n.number-icon[data-v-7e1d8208] {\n  padding-right: 5px;\n  color: #636e72;\n}\n.mail-icon[data-v-7e1d8208] {\n  padding-right: 3px;\n  color: #636e72;\n}\n.call-btn[data-v-7e1d8208] {\n  background-color: transparent;\n  margin-top: 20px;\n  border-style: none;\n  border-radius: 6px;\n}\n.call-btn[data-v-7e1d8208]:hover {\n  color: #0e72ed !important;\n}\n",""]),e.Z=r},5535:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,"\n.create-contact-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 20px;\n}\n.contact-card {\r\n  background: white;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);\n}\n.form-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin-bottom: 15px;\r\n  text-align: center;\n}\n.input-with-icon {\r\n  position: relative;\n}\n.input-with-icon input {\r\n  padding-left: 30px;\n}\n.input-with-icon i {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 8px;\r\n  transform: translateY(-50%);\r\n  color: #aaa;\n}\n.button-row {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 20px;\n}\n.btn-save,\r\n.btn-cancel {\r\n  flex: 1;\r\n  height: 36px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-weight: 500;\r\n  cursor: pointer;\n}\n.btn-save {\r\n  background-color: #307bd7;\r\n  color: #fff;\n}\n.btn-save:hover {\r\n  background-color: #2d6dba;\n}\n.btn-cancel {\r\n  background-color: #f1f1f1;\r\n  color: #333;\n}\n.btn-cancel:hover {\r\n  background-color: #e4e4e4;\n}\n.optional-yellow {\r\n  border: 1px solid #ffcc00 !important; /* yellow */\r\n  box-shadow: 0 0 0 0.2rem rgba(255, 204, 0, 0.25) !important; /* light yellow glow */\n}\r\n",""]),e.Z=r},78997:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,"\n.recent-search[data-v-4c180b07] {\n  margin: 8px;\n}\n.recent-input-search[data-v-4c180b07] {\n  width: 100%;\n  border-radius: 8px;\n  padding: 8px 12px;\n  border: 1px solid #d0d7de;\n  background: #f9fafb;\n  transition: all 0.2s ease;\n}\n.recent-input-search[data-v-4c180b07]:focus {\n  border-color: #0e72ed;\n  background: #fff;\n  box-shadow: 0 0 0 2px rgba(14, 114, 237, 0.15);\n}\n.recent-call-list[data-v-4c180b07] {\n  margin-top: 12px;\n}\n.recent-call-entry[data-v-4c180b07] {\n  padding: 12px 14px;\n  border-radius: 10px;\n  background: #ffffff;\n  margin-bottom: 10px; /* looks like a card */\n  transition: all 0.2s ease;\n  border: 1px solid #f0f0f0;\n}\n.recent-call-entry[data-v-4c180b07]:hover {\n  background-color: #f7fbff;\n  box-shadow: 0 2px 6px rgba(0,0,0,0.08);\n}\n.call-history-icon[data-v-4c180b07] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.call-icon[data-v-4c180b07] {\n  margin-top: 2px;\n  padding-right: 6px;\n  transition: transform 0.2s ease;\n}\n.recent-call-entry:hover .call-icon[data-v-4c180b07] {\n  transform: scale(1.1);\n}\n\n/* ICON COLORS */\n.call-icon.missed[data-v-4c180b07] {\n  color: #e74c3c;\n}\n.call-icon.rejected[data-v-4c180b07] {\n  color: #ff5733;\n}\n.call-icon.outbound[data-v-4c180b07] {\n  color: #0e72ed;\n}\n.call-icon.inbound[data-v-4c180b07] {\n  color: #28b463;\n}\n.call-log-list[data-v-4c180b07] {\n  padding-left: 10px;\n  text-align: left;\n}\n.contact-info-name[data-v-4c180b07] {\n  font-weight: 600;\n  margin-bottom: 2px;\n  font-size: 0.95rem;\n}\n.contact-info-number[data-v-4c180b07] {\n  font-size: 0.9em;\n  font-weight: 600;\n  color: #222;\n}\n.contact-time-stamp[data-v-4c180b07] {\n  font-size: 0.72em;\n  color: #0e72ed;\n  margin-top: 3px;\n}\n.icon-actions font-awesome-icon[data-v-4c180b07] {\n  margin-left: 10px;\n  color: #888;\n  cursor: pointer;\n  transition: color 0.2s ease, transform 0.2s ease;\n}\n.icon-actions font-awesome-icon[data-v-4c180b07]:hover {\n  color: #0e72ed;\n  transform: translateY(-1px);\n}\n.contact-add-icon[data-v-4c180b07] {\n  background-color: transparent;\n  margin-top: 20px;\n  border-style: none;\n  border-radius: 6px;\n  \n\n  margin-right: 10px;\n}\n.contact-add-icon[data-v-4c180b07]:hover {\n  color: #28c76f !important;\n}\n.no-recents[data-v-4c180b07] {\n  text-align: center;\n  padding: 25px 10px;\n  color: #666;\n  font-size: 0.9rem;\n}\n.contact-phone-icon[data-v-4c180b07] {\n  background-color: transparent;\n  margin-top: 20px;\n  border-style: none;\n  border-radius: 6px;\n}\n.contact-phone-icon[data-v-4c180b07]:hover {\n  color: #0e72ed !important;\n}\n\n",""]),e.Z=r},85994:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,"\n.create-contact-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 20px;\n}\n.contact-card {\r\n  background: white;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);\n}\n.form-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin-bottom: 15px;\r\n  text-align: center;\n}\n.input-with-icon {\r\n  position: relative;\n}\n.input-with-icon input {\r\n  padding-left: 30px;\n}\n.input-with-icon i {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 8px;\r\n  transform: translateY(-50%);\r\n  color: #aaa;\n}\n.button-row {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 20px;\n}\n.btn-save,\r\n.btn-cancel {\r\n  flex: 1;\r\n  height: 36px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-weight: 500;\r\n  cursor: pointer;\n}\n.btn-save {\r\n  background-color: #307bd7;\r\n  color: #fff;\n}\n.btn-save:hover {\r\n  background-color: #2d6dba;\n}\n.btn-cancel {\r\n  background-color: #f1f1f1;\r\n  color: #333;\n}\n.btn-cancel:hover {\r\n  background-color: #e4e4e4;\n}\n.optional-yellow {\r\n  border: 1px solid #ffcc00 !important; /* yellow */\r\n  box-shadow: 0 0 0 0.2rem rgba(255, 204, 0, 0.25) !important; /* light yellow glow */\n}\r\n",""]),e.Z=r},11371:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,'\n.call-ui-container[data-v-15b1c2ea] {\r\n  padding: 16px;\r\n  font-family: "Inter", sans-serif;\r\n  background: #f9fafb;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18px;\n}\r\n \r\n/* Section Header */\n.section-header[data-v-15b1c2ea] {\r\n  font-weight: 600;\r\n  font-size: 1rem;\r\n  color: #111827;\r\n  border-bottom: 1px solid #e5e7eb;\r\n  padding-bottom: 6px;\n}\r\n \r\n/* Notes Section */\n.notes-section[data-v-15b1c2ea] {\r\n  background: #fff;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 12px;\r\n  padding: 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\n}\n.notes-textarea[data-v-15b1c2ea] {\r\n  width: 100%;\r\n  min-height: 120px;\r\n  padding: 10px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  font-size: 0.9rem;\r\n  resize: vertical;\r\n  outline: none;\r\n color:black\n}\n.notes-textarea[data-v-15b1c2ea]:focus {\r\n  border-color: #2563eb;\r\n  box-shadow: 0 0 0 2px #93c5fd;\n}\n.save-btn[data-v-15b1c2ea] {\r\n  align-self: flex-end;\n}\r\n \r\n/* Caller Card */\n.zoom-card[data-v-15b1c2ea] {\r\n  background-color: #f0f9ff;\r\n  border-radius: 12px;\r\n  padding: 12px 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.8rem;\r\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.06);\n}\n.zoom-card__header[data-v-15b1c2ea] {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\n}\n.avatar[data-v-15b1c2ea] {\r\n  width: 3rem;\r\n  height: 3rem;\r\n  background-color: #dbeafe;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.2rem;\r\n  color: #2563eb;\n}\n.caller-name[data-v-15b1c2ea] {\r\n  font-weight: bold;\r\n  font-size: 1rem;\r\n  color: #1f2937;\n}\n.caller-number[data-v-15b1c2ea] {\r\n  font-size: 0.85rem;\r\n  color: #6b7280;\n}\n.call-state[data-v-15b1c2ea] {\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n  color: #2563eb;\n}\n.button[data-v-15b1c2ea] {\r\n  cursor: pointer;\r\n  padding: 8px 12px;\r\n  background-color: #2563eb;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  transition: background 0.2s ease;\n}\n.button[data-v-15b1c2ea]:hover {\r\n  background-color: #1e40af;\n}\r\n \r\n/* Bottom Bar */\n.bottom-bar[data-v-15b1c2ea] {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  background: #fff;\r\n  border: 1px solid #e5e7eb;\r\n  padding: 10px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\r\n  position: sticky;\r\n  bottom: 8px;\n}\n.switch-btn[data-v-15b1c2ea] {\r\n  background: none;\r\n  border: none;\r\n  text-align: center;\r\n  font-size: 0.8rem;\r\n  color: #374151;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 4px;\n}\r\n \r\n/* .switch-btn:hover {\r\n  color: #2563eb;\r\n} */\n.icon[data-v-15b1c2ea] {\r\n  width: 28px;\r\n  height: 28px;\n}\n.save-row[data-v-15b1c2ea] {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  position: relative;\n}\n.notes-popup[data-v-15b1c2ea] {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 12px 20px;\r\n  border-radius: 12px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  color: white;\r\n  backdrop-filter: blur(10px);\r\n  box-shadow: 0 4px 16px rgba(0,0,0,0.15);\r\n  animation: popupSlide-15b1c2ea 0.4s ease,fadeOut-15b1c2ea 2s ease 1.6s forwards;\r\n  z-index: 9999;\r\n  min-width: 220px;\r\n  justify-content: center;\n}\r\n\r\n/* Success and Error Colors */\n.notes-popup.success[data-v-15b1c2ea] {\r\n  background: rgba(16, 185, 129, 0.9);\n}\n.notes-popup.error[data-v-15b1c2ea] {\r\n  background: rgba(239, 68, 68, 0.9);\n}\r\n\r\n/* Slide + Fade Animations */\n@keyframes popupSlide-15b1c2ea {\n0% { opacity: 0; transform: translate(-50%, 20px);\n}\n100% { opacity: 1; transform: translate(-50%, 0);\n}\n}\n@keyframes fadeOut-15b1c2ea {\n0% { opacity: 1;\n}\n100% { opacity: 0;\n}\n}\n.notes-popup i[data-v-15b1c2ea] {\r\n  font-size: 1.1rem;\n}\r\n\r\n \r\n',""]),e.Z=r},26248:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,'\n.homepage-container[data-v-64411de2] {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #fafafa;\n  font-family: "Segoe UI", Roboto, sans-serif;\n}\n.tabs[data-v-64411de2] {\n  display: flex;\n  justify-content: center;\n  background: #ffffff;\n  padding: 12px 8px;\n  border-bottom: 1px solid #e0e0e0;\n  flex-shrink: 0; /* Prevent shrinking */\n  position: sticky;\n  top: 0;\n  z-index: 20;\n}\n.tab-item[data-v-64411de2] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 20px;\n  font-size: 14px;\n  border-radius: 30px;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  color: #555;\n  font-weight: 500;\n}\n.tab-item.active[data-v-64411de2] {\n  color: #fff;\n  font-weight: 600;\n}\n.tabs.freshdesk[data-v-64411de2] {\n  --activeColor: #28b76b; /* green */\n  --hoverColor: #7eeeba;\n}\n.tabs.freshchat[data-v-64411de2] {\n  --activeColor: #28b76b; /* green */\n  --hoverColor: #7eeeba;\n}\n.tabs.freshsales[data-v-64411de2] {\n  --activeColor: #ff7900; /* orange  */\n  --hoverColor: #ffb27a;\n}\n.tab-item.active[data-v-64411de2] {\n  background-color: var(--activeColor);\n}\n.tab-item[data-v-64411de2]:hover {\n  background-color: var(--hoverColor);\n}\n.scroll-area[data-v-64411de2] {\n  flex-grow: 1;\n  overflow-y: auto;\n  padding: 16px 12px;\n  position: relative; /* Needed for fade overlay positioning */\n  scroll-behavior: smooth;\n}\n\n/* Fade effect */\n.scroll-area[data-v-64411de2]::before,\n.scroll-area[data-v-64411de2]::after {\n  content: "";\n  position: sticky;\n  left: 0;\n  right: 0;\n  height: 20px;\n  pointer-events: none;\n  z-index: 10;\n}\n.scroll-area[data-v-64411de2]::before {\n  top: 0;\n  background: linear-gradient(to bottom, #fafafa, rgba(250, 250, 250, 0));\n}\n.scroll-area[data-v-64411de2]::after {\n  bottom: 0;\n  background: linear-gradient(to top, #fafafa, rgba(250, 250, 250, 0));\n}\n\n/* Nice scrollbar */\n.scroll-area[data-v-64411de2]::-webkit-scrollbar {\n  width: 6px;\n}\n.scroll-area[data-v-64411de2]::-webkit-scrollbar-thumb {\n  background: #ccc;\n  border-radius: 4px;\n}\n.scroll-area[data-v-64411de2]::-webkit-scrollbar-track {\n  background: transparent;\n}\n',""]),e.Z=r},1e4:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,"\n.create-note-container[data-v-e643704c] {\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  border: 1px solid #e5e7eb;\r\n  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.06);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 14px;\r\n  max-width: 500px;\r\n  margin: auto;\n}\n.note-header[data-v-e643704c] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 1px solid #f3f4f6;\r\n  padding-bottom: 6px;\n}\n.note-header h3[data-v-e643704c] {\r\n  font-size: 1.05rem;\r\n  font-weight: 600;\r\n  margin: 0;\r\n  color: #111827;\n}\n.close-btn[data-v-e643704c] {\r\n  background: #f9fafb;\r\n  border: none;\r\n  font-size: 1.2rem;\r\n  cursor: pointer;\r\n  padding: 2px 8px;\r\n  border-radius: 6px;\r\n  transition: background 0.2s ease;\n}\n.close-btn[data-v-e643704c]:hover {\r\n  background: #f3f4f6;\n}\n.note-ticket-info[data-v-e643704c] {\r\n  font-size: 0.9rem;\r\n  color: #374151;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\n}\n.ticket-meta[data-v-e643704c] {\r\n  font-size: 0.8rem;\r\n  color: #6b7280;\n}\n.note-textarea[data-v-e643704c] {\r\n  width: 100%;\r\n  min-height: 110px;\r\n  resize: vertical;\r\n  padding: 10px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  font-size: 0.9rem;\r\n  outline: none;\r\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n}\n.note-textarea[data-v-e643704c]:focus {\r\n  border-color: #2563eb;\r\n  box-shadow: 0px 0px 0px 2px rgba(37, 99, 235, 0.25);\n}\n.note-footer[data-v-e643704c] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\n}\n.checkbox-label[data-v-e643704c] {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 0.85rem;\r\n  color: #374151;\n}\n.add-note-btn[data-v-e643704c] {\r\n  background-color: #2563eb;\r\n  color: white;\r\n  padding: 7px 16px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  transition: background 0.2s ease, transform 0.1s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\n}\n.add-note-btn[data-v-e643704c]:hover {\r\n  background-color: #1d4ed8;\r\n  transform: translateY(-1px);\n}\r\n\r\n",""]),e.Z=r},27174:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,'\n.ticket-ui-container[data-v-7576720a] {\n  padding: 16px;\n  font-family: "Inter", sans-serif;\n  background: #f9fafb;\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n}\n\n/* Section Header */\n.section-header[data-v-7576720a] {\n  font-weight: 600;\n  font-size: 1rem;\n  color: #111827;\n  border-bottom: 1px solid #e5e7eb;\n  padding-bottom: 6px;\n}\n\n/* Ticket List  */\n.ticket-list[data-v-7576720a] {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.ticket-item[data-v-7576720a] {\n  display: flex;\n  align-items: center;\n  background: #fff;\n  border: 1px solid #e5e7eb;\n  border-radius: 10px;\n  padding: 12px 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.ticket-item[data-v-7576720a]:hover {\n  background: #f3f4f6;\n  transform: translateY(-2px);\n}\n\n/* Ticket Left (Avatar) */\n.ticket-avatar[data-v-7576720a] {\n  min-width: 46px;\n  height: 46px;\n  background: #eff6ff;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  color: #2563eb;\n  font-size: 0.85rem;\n  margin-right: 12px;\n}\n\n/* Ticket Details */\n.ticket-details[data-v-7576720a] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n.ticket-title[data-v-7576720a] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 600;\n  font-size: 0.95rem;\n}\n.ticket-subject[data-v-7576720a] {\n  color: #111827;\n}\n.status-badge[data-v-7576720a] {\n  font-size: 0.7rem;\n  padding: 3px 8px;\n  border-radius: 12px;\n  font-weight: 500;\n  text-transform: capitalize;\n}\n.open[data-v-7576720a] {\n  background-color: #dcfce7;\n  color: #166534;\n}\n.pending[data-v-7576720a] {\n  background-color: #fef9c3;\n  color: #92400e;\n}\n.resolved[data-v-7576720a] {\n  background-color: #e0f2fe;\n  color: #075985;\n}\n.closed[data-v-7576720a] {\n  background-color: #fee2e2;\n  color: #991b1b;\n}\n.ticket-meta[data-v-7576720a] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.8rem;\n  color: #6b7280;\n  margin-top: 2px;\n}\n.ticket-right[data-v-7576720a] {\n  margin-left: auto;\n}\n\n/* Caller Card */\n.zoom-card[data-v-7576720a] {\n  --primary: #2563eb;\n  background-color: #f0f9ff;\n  border-radius: 12px;\n  padding: 12px 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 0.8rem;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.06);\n}\n.zoom-card__header[data-v-7576720a] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.avatar[data-v-7576720a] {\n  width: 3rem;\n  height: 3rem;\n  background-color: #dbeafe;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.2rem;\n  color: var(--primary);\n}\n.caller-name[data-v-7576720a] {\n  font-weight: bold;\n  font-size: 1rem;\n  color: #1f2937;\n}\n.caller-number[data-v-7576720a] {\n  font-size: 0.85rem;\n  color: #6b7280;\n}\n.call-state[data-v-7576720a] {\n  font-size: 0.85rem;\n  font-weight: 500;\n  color: var(--primary);\n}\n.button[data-v-7576720a] {\n  cursor: pointer;\n  padding: 8px;\n  background-color: var(--primary);\n  font-size: 0.85rem;\n  font-weight: 500;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  transition: background 0.2s ease;\n}\n\n/* .button:hover {\n  background-color: #1e40af;\n} */\n\n/* Empty State */\n.no-tickets[data-v-7576720a] {\n  text-align: center;\n  color: #6b7280;\n  font-size: 0.9rem;\n  padding: 20px;\n}\n.no-tickets i[data-v-7576720a] {\n  font-size: 1.4rem;\n  margin-bottom: 6px;\n  color: #9ca3af;\n  display: block;\n}\n\n/* Bottom Bar */\n.bottom-bar[data-v-7576720a] {\n  display: flex;\n  justify-content: space-around;\n  background: #fff;\n  border: 1px solid #e5e7eb;\n  padding: 10px;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n  position: sticky;\n  bottom: 8px;\n}\n.switch-btn[data-v-7576720a] {\n  background: none;\n  border: none;\n  text-align: center;\n  font-size: 0.8rem;\n  color: #374151;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n\n/* .switch-btn:hover {\n  color: #2563eb;\n} */\n.icon[data-v-7576720a] {\n  width: 28px;\n  height: 28px;\n}\n.add-contact-btn[data-v-7576720a] {\n  margin-top: 8px;\n  padding: 6px 12px;\n  background: #2563eb;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n.add-contact-btn[data-v-7576720a]:hover {\n  background: #1d4ed8;\n}\n\n',""]),e.Z=r},54201:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,"\n.header[data-v-637f0cdb] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16px;\n}\n.create-ticket-wrapper[data-v-637f0cdb] {\r\n  padding: 16px;\n}\n.form-group[data-v-637f0cdb] {\r\n  margin-bottom: 16px;\n}\n.success-message[data-v-637f0cdb] {\r\n  color: green;\r\n  margin-top: 12px;\n}\n.error-message[data-v-637f0cdb] {\r\n  color: red;\r\n  margin-top: 12px;\n}\n.close-btn[data-v-637f0cdb] {\r\n  background: none;\r\n  border: none;\r\n  font-size: 1.2rem;\r\n  cursor: pointer;\n}\n.native-input[data-v-637f0cdb],\r\n.native-select[data-v-637f0cdb],\r\n.native-textarea[data-v-637f0cdb] {\r\n  width: 100%;\r\n  padding: 8px;\r\n  margin-top: 4px;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  box-sizing: border-box;\n}\n.native-btn[data-v-637f0cdb] {\r\n  padding: 8px 16px;\r\n  background: #0e72ed;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\n}\n.native-btn[data-v-637f0cdb]:disabled {\r\n  background: #ccc;\r\n  cursor: not-allowed;\n}\n.native-btn-cancel[data-v-637f0cdb] {\r\n  padding: 8px 16px;\r\n  margin-right: 8px;\r\n  background: #ca1414;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\n}\r\n",""]),e.Z=r},10755:function(n,e,t){"use strict";var o=t(23645),r=t.n(o)()(function(n){return n[1]});r.push([n.id,'\n.incoming-call-banner[data-v-49c9c3d5] {\n \n  position: fixed;\n \n  top: 12px;\n \n  left: 50%;\n \n  transform: translateX(-50%);\n \n  width: 260px;\n \n  height: 64px;\n \n  color: white;\n \n  padding: 0 12px;\n \n  display: flex;\n \n  align-items: center;\n \n  gap: 10px;\n \n  font-family: "Segoe UI", sans-serif;\n \n  font-weight: 600;\n \n  z-index: 10000;\n \n  cursor: pointer;\n \n  box-shadow: 0 3px 12px rgba(0,0,0,0.18);\n \n  border-radius: 14px;\n \n  overflow: hidden;\n \n  background-size: 200% 200%;\n \n  animation: shine-49c9c3d5 2.8s linear infinite;\n}\n@keyframes shine-49c9c3d5 {\n0% { background-position: 0% 50%;\n}\n100% { background-position: 200% 50%;\n}\n}\n.avatar[data-v-49c9c3d5] {\n \n  width: 38px;\n \n  height: 38px;\n \n  background: rgba(5, 5, 5, 0.25);\n  color: rgba(0, 0, 0, 0.9);\n  border-radius: 10px;\n \n  display: flex;\n \n  align-items: center;\n \n  justify-content: center;\n \n  font-size: 16px;\n \n  font-weight: 700;\n \n  flex-shrink: 0;\n}\n.caller-info[data-v-49c9c3d5] {\n   color: rgba(0, 0, 0, 0.9);\n  flex-grow: 1;\n \n  display: flex;\n \n  flex-direction: column;\n \n  overflow: hidden;\n}\n.name[data-v-49c9c3d5] {\n   color: rgba(0, 0, 0, 0.9);\n  font-size: 15px;\n \n  white-space: nowrap;\n \n  overflow: hidden;\n \n  text-overflow: ellipsis;\n}\n.number[data-v-49c9c3d5] {\n   color: rgba(0, 0, 0, 0.9);\n  font-size: 12px;\n \n  opacity: 0.9;\n \n  white-space: nowrap;\n \n  overflow: hidden;\n \n  text-overflow: ellipsis;\n}\n.ring-icon[data-v-49c9c3d5] {\n  color: rgba(0, 0, 0, 0.9);\n  font-size: 18px;\n \n  animation: ring-49c9c3d5 1.3s infinite;\n}\n@keyframes ring-49c9c3d5 {\n0%, 100% { transform: rotate(0deg);\n}\n15%, 45%, 75% { transform: rotate(-14deg);\n}\n30%, 60%, 90% { transform: rotate(14deg);\n}\n}\n.fade-enter-active[data-v-49c9c3d5] {\n \n  animation: slideDown-49c9c3d5 0.3s ease-out;\n}\n@keyframes slideDown-49c9c3d5 {\nfrom { transform: translateX(-50%) translateY(-80px); opacity: 0;\n}\nto { transform: translateX(-50%) translateY(0); opacity: 1;\n}\n}\n',""]),e.Z=r},23097:function(n,e,t){n.exports=t.p+"/assets/img/cc93eeddfc.png"},87744:function(n,e,t){n.exports=t.p+"/assets/img/cnvee5777c5.png"},36370:function(n,e,t){n.exports=t.p+"/assets/img/cc93eeddfc.png"}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[216],function(){return e(26981),e(17471)}),n.O()}]);